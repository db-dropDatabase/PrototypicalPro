{"version":3,"sources":["video/backvid.mp4","video/backvid.webm","video/backvidlq.mp4","video/backvidlq.webm","img/backthumb.jpg","serviceWorker.ts","Style.tsx","Fluid/FluidShaders.ts","Fluid/HSVTools.ts","Fluid/FluidRender.ts","Fluid/FluidDraw.ts","FluidGL.tsx","CountOnEnter.tsx","img/web.svg","img/embedded.svg","img/cloud.svg","img/proto.svg","img/email.svg","img/github.svg","img/linkedin.svg","img/down.svg","Theme.ts","BackgroundVideo.tsx","MainPage.tsx","PersonalAPI/useAPI.ts","index.tsx"],"names":["module","exports","__webpack_require__","p","Boolean","window","location","hostname","match","GlobalStyle","createGlobalStyle","_templateObject","props","theme","font","size","base","screen","grid_collapse_width","base_mobile","ContentContainer","styledTS","styled","div","_templateObject2","top_bot_pad","side_pad","content_width","height","color","mobile_height","PerfectCenter","_templateObject3","ResumeText","_templateObject4","xlarge","_templateObject5","large","content","Mark","mark","_templateObject6","accent","BodyElem","_templateObject7","x","css","_templateObject8","y","spany","_templateObject9","_templateObject10","spanx","_templateObject11","BodyGrid","_templateObject12","col_count","col_max","col_gap","FlexCol","_templateObject13","direction","justify","align","TextElement","_templateObject14","logo","url","imgname","_templateObject15","type","text_align","allow_wrap","HeaderFooterGrid","_templateObject16","header_footer","MaskGrid","_ref","className","children","react","_templateObject17","light","MaskSVG","object","_templateObject18","SVGCSS","_templateObject19","fixed_size","_templateObject20","_templateObject21","SimpleGrid","_templateObject22","rows","cols","row_gap","CreditLink","a","attrs","rel","target","_templateObject23","compileShader","gl","source","shader","createShader","shaderSource","getShaderParameter","COMPILE_STATUS","getShaderInfoLog","getShaders","baseVertexShader","VERTEX_SHADER","clearShader","FRAGMENT_SHADER","colorShader","backgroundShader","displayShader","displayShadingShader","splatShader","advectionManualFilteringShader","advectionShader","divergenceShader","curlShader","vorticityShader","pressureShader","gradientSubtractShader","HSVTools","c","i","f","q","t","h","s","v","Math","floor","r","g","b","HSVtoRGB","random","GLProgram","vertexShader","fragmentShader","Object","classCallCheck","this","uniforms","program","createProgram","attachShader","linkProgram","getProgramParameter","LINK_STATUS","getProgramInfoLog","uniformCount","ACTIVE_UNIFORMS","uniformName","getActiveUniform","name","getUniformLocation","useProgram","FluidRender","ext","canvas","config","_this","clearProgram","colorProgram","backgroundProgram","displayProgram","displayShadingProgram","splatProgram","advectionProgram","divergenceProgram","curlProgram","vorticityProgram","pressureProgram","gradientSubtractProgram","simWidth","simHeight","dyeWidth","dyeHeight","density","velocity","divergence","curl","pressure","splatVectorStates","paused","blit","test","navigator","userAgent","supportLinearFiltering","SHADING","_getShaders","bindBuffer","ARRAY_BUFFER","createBuffer","bufferData","Float32Array","STATIC_DRAW","ELEMENT_ARRAY_BUFFER","Uint16Array","vertexAttribPointer","FLOAT","enableVertexAttribArray","destination","bindFramebuffer","FRAMEBUFFER","drawElements","TRIANGLES","UNSIGNED_SHORT","initFrameBuffers","assign","DEFAULT_CONF","out","getWebGLContext","simRes","getResolution","SIM_RESOLUTION","dyeRes","DYE_RESOLUTION","width","texType","halfFloatTexType","rgba","formatRGBA","rg","formatRG","formatR","filtering","LINEAR","NEAREST","createDoubleFBO","internalFormat","format","resizeDoubleFBO","createFBO","resolution","aspectRatio","drawingBufferWidth","drawingBufferHeight","max","round","min","w","param","_this2","activeTexture","TEXTURE0","texture","createTexture","bindTexture","TEXTURE_2D","texParameteri","TEXTURE_MIN_FILTER","TEXTURE_MAG_FILTER","TEXTURE_WRAP_S","CLAMP_TO_EDGE","TEXTURE_WRAP_T","texImage2D","fbo","createFramebuffer","framebufferTexture2D","COLOR_ATTACHMENT0","viewport","clear","COLOR_BUFFER_BIT","attach","id","fbo1","fbo2","read","value","write","swap","temp","newFBO","bind","uniform1i","uTexture","uniform1f","resizeFBO","dt","disable","BLEND","uniform2f","texelSize","uVelocity","uCurl","CURL","PRESSURE_DISSIPATION","uDivergence","PRESSURE_ITERATIONS","uPressure","dyeTexelSize","velocityId","uSource","dissipation","VELOCITY_DISSIPATION","DENSITY_DISSIPATION","TRANSPARENT","blendFunc","ONE","ONE_MINUS_SRC_ALPHA","enable","bc","BACK_COLOR","uniform4f","clientWidth","clientHeight","dx","dy","radius","uTarget","point","uniform3f","SPLAT_RADIUS","amount","generateColor","splat","vector","push","_this3","filter","next_splat","pos","vel","step","render","pause","params","alpha","depth","stencil","antialias","preserveDrawingBuffer","getContext","isWebGL2","halfFloat","getExtension","clearColor","HALF_FLOAT","HALF_FLOAT_OES","getSupportedFormat","RGBA16F","RGBA","RG16F","RG","R16F","RED","console","log","concat","supportRenderTextureFormat","checkFramebufferStatus","FRAMEBUFFER_COMPLETE","COLORFUL","SplatVector","magnitude","position","speed","num_splats","step_size","num_steps","cur_step","DEFUALT_SIZE","cos","PI","sin","dist","DEFAULT_SPEED","DEFUALT_SPAT_DENSITY","ret","FluidGL","_ref$className","canvasres","canvassize","canvas_ref","React","fluid_ref","animation_id_ref","animation_callback_ref","frame_count","last_angle","last_hue","animation_callback","current","update","next_angle","MAGNITUDE","MID","APPROACH_RADIUS","abs","next_hue","rad","addVector","requestAnimationFrame","createFluid","getDefaultConfig","Factory","cancelAnimationFrame","useEventListener","undefined","e","preventDefault","_useInView","useInView","_useInView2","slicedToArray","view_ref","inView","ref","style","backgroundColor","CountOnEnter","end","selfRef","countupRef","triggerOnce","CountUp","duration","start","d","_extends","arguments","length","key","prototype","hasOwnProperty","call","apply","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","_ref2","react_default","createElement","data-name","web_SvgWeb","svgRef","viewBox","ForwardRef","forwardRef","embedded_extends","embedded_objectWithoutProperties","embedded_objectWithoutPropertiesLoose","embedded_ref2","transform","embedded_SvgEmbedded","embedded_ForwardRef","cloud_extends","cloud_objectWithoutProperties","cloud_objectWithoutPropertiesLoose","cloud_ref2","cloud_SvgCloud","cloud_ForwardRef","proto_extends","proto_objectWithoutProperties","proto_objectWithoutPropertiesLoose","proto_ref2","proto_SvgProto","enableBackground","fill","fillOpacity","strokeWidth","proto_ForwardRef","email_extends","email_objectWithoutProperties","email_objectWithoutPropertiesLoose","email_ref2","email_SvgEmail","email_ForwardRef","github_extends","github_objectWithoutProperties","github_objectWithoutPropertiesLoose","github_ref2","github_SvgGithub","github_ForwardRef","linkedin_extends","linkedin_objectWithoutProperties","linkedin_objectWithoutPropertiesLoose","linkedin_ref2","linkedin_SvgLinkedin","linkedin_ForwardRef","down_extends","down_objectWithoutProperties","down_objectWithoutPropertiesLoose","down_ref2","down_SvgDown","down_ForwardRef","MainTheme","dark","medium","xlarge_num","innerHeight","small","xsmall","header","wordmark","svg","cloud","CloudLogo","embedded","EmbedLogo","web","WebLogo","mask","ProtoMask","mail","EmailLogo","github","GithubLogo","linkedin","LinkedinLogo","down","DownLogo","video","middle","vid_srcs","BackVideoMp4","mime","BackVideoWebm","small_vid_srcs","BackVideoSmallMp4","BackVideoSmallWebm","thumb","BackThumb","ContainerDiv","BackgroundVideo_templateObject","OverlayDiv","BackgroundVideo_templateObject2","VideoStyle","BackgroundVideo_templateObject3","BackgroundVideo","videoSrcs","videoPoster","_ref$overlayColor","overlayColor","videoRef","containerRef","lastPromise","muted","then","play","loop","preload","playsInline","poster","map","src","ind","MainPage","endpoint","callback","_React$useState","_React$useState2","dimension","setDimension","_React$useState3","_React$useState4","setWidth","_React$useState5","_React$useState6","stats","setStats","dim_callback","innerWidth","data","fetch","mode","res","status","json","Error","catch","err","error","styled_components_browser_esm","main_theme","src_FluidGL","Theme","as","href","AnchorLink","offset","title","src_BackgroundVideo","toString","src_CountOnEnter","totalCommitsByMe","totalHoursByMe","require","rootElem","document","getElementById","hasChildNodes","ReactDOM","hydrate","src_MainPage","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.8204c3a7.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/backvid.8a5d67d8.mp4\";","module.exports = __webpack_public_path__ + \"static/media/backvid.8b8bbaaf.webm\";","module.exports = __webpack_public_path__ + \"static/media/backvidlq.fa3c23da.mp4\";","module.exports = __webpack_public_path__ + \"static/media/backvidlq.4a4bf758.webm\";","module.exports = __webpack_public_path__ + \"static/media/backthumb.a99c0b3c.jpg\";","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      (process as { env: { [key: string]: string } }).env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import * as React from \"react\";\r\nimport styled, { css, createGlobalStyle } from \"styled-components\";\r\nimport styledTS from \"styled-components-ts\";\r\nimport main_theme from \"./Theme\";\r\n\r\n/**\r\n * A collection of my styled used in MainPage.tsx\r\n *\r\n * All of these components depend on a theme provider, and the theme provided\r\n * by main_theme. This helped me quite a bit as the color and sizing of elements\r\n * is much more consistent. Most of these are implemented in terms of CSS Grid, and are a bit verbose as\r\n * a result.\r\n */\r\n\r\n\r\nexport const GlobalStyle = createGlobalStyle`\r\nhtml {\r\n  height: 100%;\r\n  width: 100%;\r\n}\r\n\r\n#root {\r\n    height: 100%\r\n}\r\n\r\nobject {\r\n\twidth: 100%;\r\n\tdisplay: block;\r\n\theight: auto;\r\n\tposition: relative;\r\n\tpadding-top: 100%\r\n}\r\n\r\nsvg {\r\n\twidth: 100%;\r\n\theight: 100%;\r\n\tposition: absolute;\r\n\ttop: 0;\r\n    left: 0;\r\n}\r\n\r\nbody {\r\n  height: 100%;\r\n  margin: 0;\r\n  font-family: 'Roboto Slab', serif;\r\n  font-size: ${ props => props.theme.font.size.base };\r\n\r\n  @media (max-width: ${ props => props.theme.screen.grid_collapse_width }) {\r\n      font-size: ${ props => props.theme.font.size.base_mobile }\r\n  }\r\n}\r\n`;\r\n\r\nexport const ContentContainer = styledTS<{ height: string, color: string, mobile_height?: string, theme: typeof main_theme }>(styled.div)`\r\n    overflow: hidden;\r\n    display: grid;\r\n    grid-template:\r\n        [top_edge] ${ props => props.theme.screen.top_bot_pad }\r\n        [top_content] auto\r\n        [bot_content] ${ props => props.theme.screen.top_bot_pad } [bot_edge]\r\n        / [left_edge] minmax(${ props => props.theme.screen.side_pad }, 1fr)\r\n        [left_content] minmax(auto, ${ props => props.theme.screen.content_width })\r\n        [right_content] minmax(${ props => props.theme.screen.side_pad }, 1fr) [right_edge];\r\n\r\n    width: 100%;\r\n    height: ${ props => props.height };\r\n    background-color: ${ props => props.color ? props.theme.color[props.color] : null };\r\n\r\n    @media (max-width: ${ props => props.theme.screen.grid_collapse_width }) {\r\n        height: ${ props => props.mobile_height };\r\n    }\r\n\r\n    & > .content {\r\n        grid-area: top_content / left_content / bot_content / right_content;\r\n    }\r\n\r\n    & > .full {\r\n        grid-row: top_edge / bot_edge;\r\n        grid-column: left_edge / right_edge;\r\n    }\r\n`;\r\n\r\nexport const PerfectCenter = styledTS<{ theme: typeof main_theme }>(styled.div)`\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n    justify-content: center;\r\n`;\r\n\r\nexport const MainText = styledTS<{ theme: typeof main_theme }>(styled.div)`\r\n    font-weight: bold;\r\n    font-size: ${ props => props.theme.font.size.xlarge };\r\n    color: #EFEFEF;\r\n    z-index: 999;\r\n`;\r\n\r\nexport const ResumeText = styledTS<{ theme: typeof main_theme }>(styled.div)`\r\n    font-weight: 100;\r\n    font-size: ${ props => props.theme.font.size.large };\r\n    color: ${ props => props.theme.font.color.content };\r\n    line-height: 1.35em;\r\n    text-align: left;\r\n    max-width: 22em;\r\n`;\r\n\r\nexport const Mark = styledTS<{ theme: typeof main_theme }>(styled.mark)`\r\n    background-color: ${ props => props.theme.font.color.accent };\r\n    color: ${ props => props.theme.font.color.content };\r\n    font-weight: bold;\r\n    padding: 0 0.15em 0 0.15em;\r\n`;\r\n\r\nexport const BodyElem = styledTS<{ theme: typeof main_theme, x?: number, y?: number, spanx?: number, spany?: number }>(styled.div)`\r\n    ${ props => props.x ? css`grid-row: contentY ${ props => props.y } / span ${ props => props.spany ? props.spany : 1 };` : css`` }\r\n    ${ props => props.y ? css`grid-column: contentX ${ props => props.x } / span ${ props => props.spanx ? props.spanx : 1 };` : css``}\r\n`;\r\n\r\nexport const BodyGrid = styledTS<{ theme: typeof main_theme, col_count: number, col_gap: string, col_max: string }>(styled(BodyElem))`\r\n    display: grid;\r\n    grid-template-rows: repeat(2, min-content);\r\n    grid-template-columns: repeat(${ props => props.col_count }, minmax(min-content, ${ props => props.col_max }));\r\n    grid-auto-flow: column;\r\n    row-gap: 7vmin;\r\n    z-index: 100;\r\n    column-gap: ${ props => props.col_gap };\r\n\r\n    @media (max-width: ${ props => props.theme.screen.grid_collapse_width }) {\r\n        column-gap: 0;\r\n        grid-template-rows: repeat(${ props => props.col_count * 2 }, min-content);\r\n        grid-template-columns: minmax(min-content, ${ props => props.col_max });\r\n    }\r\n`;\r\n\r\nexport const FlexCol = styledTS<{ theme: typeof main_theme, justify?: string, direction?: string, align?: string }>(styled(BodyElem))`\r\n    display: flex;\r\n    flex-direction: ${ props => props.direction || \"column\" };\r\n    justify-content: ${ props => props.justify || \"space-evenly\" };\r\n    align-items: ${ props => props.align || \"center\" };\r\n    width: 100%;\r\n\r\n    & > .grow {\r\n        flex-grow: 1;\r\n    }\r\n`;\r\n\r\nexport const LogoElement = styledTS<{ imgname: string, size: string, theme: typeof main_theme }>(styled(BodyElem))`\r\n    max-width: ${ props => props.theme.logo.size[props.size] };\r\n    height: ${ props => props.theme.logo.size[props.size] };\r\n    background-image: url(${ props => props.theme.logo.url[props.imgname] });\r\n    background-position: center;\r\n    background-size: contain;\r\n    background-repeat: no-repeat;\r\n    align-self: center;\r\n`;\r\n\r\nexport const TextElement = styledTS<{ size: string, type: string, align?: string, text_align?: string, allow_wrap?: boolean, theme: typeof main_theme }>(styled(BodyElem))`\r\n    font-size: ${ props => props.theme.font.size[props.size] };\r\n    color: ${ props => props.theme.font.color[props.type] };\r\n    text-align: ${ props => props.text_align ? props.text_align : \"center\" };\r\n    align-self: ${ props => props.align ? props.align : \"unset\" };\r\n    font-weight: 300;\r\n    white-space: ${ props => props.allow_wrap ? \"wrap\" : \"nowrap\" };\r\n    z-index: 100;\r\n    text-decoration: none;\r\n`;\r\n\r\nexport const HeaderFooterGrid = styledTS<{ theme: typeof main_theme }>(styled(BodyElem))`\r\n    align-self: flex-start;\r\n    display: grid;\r\n    height: ${ props => props.theme.screen.header_footer };\r\n    grid-template-rows: [contentY] 1fr [contentY] max-content [contentY] 1fr [contentY];\r\n    grid-template-columns: [contentX] min-content 70px [contentX]\r\n        repeat(3, min-content 50px [contentX]);\r\n    align-items: center;\r\n    z-index: 101;\r\n\r\n    @media (max-width: ${ props => props.theme.screen.grid_collapse_width }) {\r\n        grid-template-columns: [contentX] min-content [contentX];\r\n        height: initial;\r\n\r\n        & :not(:first-child){\r\n            display: none;\r\n        }\r\n    }\r\n`;\r\n\r\nconst MaskGridBase: React.FunctionComponent<{ className?: string, children?: any }> = ({ className, children }) => {\r\n    return (\r\n        <div className={ className }>\r\n            <div className=\"pack span\"></div>\r\n            <div className=\"pack\"></div>\r\n            <div className=\"pack\"></div>\r\n            <div className=\"pack span\"></div>\r\n            { children }\r\n        </div>\r\n    );\r\n};\r\n\r\nexport const MaskGrid = styledTS<{ theme: typeof main_theme }>(styled(MaskGridBase))`\r\n    display: grid;\r\n    grid-template-rows: 1fr [top_content] min-content [bot_content] 1fr;\r\n    grid-template-columns: 1fr [left_content] 60vmin [right_content] 1fr;\r\n    z-index: 100;\r\n\r\n    & > .mask {\r\n        grid-row: top_content / bot_content;\r\n        grid-column: left_content / right_content;\r\n    }\r\n\r\n    & > .pack {\r\n        background-color: ${ props => props.theme.color.light };\r\n    }\r\n\r\n    & > .pack.span {\r\n        grid-column-start: span 3;\r\n    }\r\n`;\r\n\r\nexport const MaskSVG = styled.object`\r\n    padding-top: 76.64%;\r\n    outline: 5px solid ${ props => props.theme.color.light };\r\n    outline-offset: -5px;\r\n`;\r\n\r\nexport const SVGCSS = styledTS<{ theme: typeof main_theme, fixed_size: boolean }>(styled(BodyElem))`\r\n    ${ props => props.fixed_size ? css`\r\n        width: ${ props => props.theme.logo.size[props.size] };\r\n        height: ${ props => props.theme.logo.size[props.size] };\r\n    ` : css`\r\n        max-width: ${ props => props.theme.logo.size[props.size] };\r\n        max-height: ${ props => props.theme.logo.size[props.size] };\r\n    `}\r\n    align-self: center;\r\n    z-index: 100;\r\n`;\r\n\r\nexport const SimpleGrid = styledTS<{ theme: typeof main_theme, rows: number, cols: number, row_gap?: string, col_gap?: string }>(styled.div)`\r\n    display: grid;\r\n    justify-items: center;\r\n    grid-template-rows: repeat(${ props => props.rows }, [contentY] max-content);\r\n    grid-template-columns: repeat(${ props => props.cols }, [contentX] max-content);\r\n    column-gap: ${ props => props.col_gap || 0 };\r\n    row-gap: ${ props => props.row_gap || 0 }\r\n`;\r\n\r\nexport const CreditLink = styledTS<{ theme: typeof main_theme }>(styled.a.attrs(props => ({\r\n    rel: \"noopener noreferrer\",\r\n    target: \"_blank\"\r\n})))`\r\n    color: ${ props => props.theme.color.accent };\r\n`;","/** All of the shaders used by FluidRender */\r\n\r\n\r\nfunction compileShader (gl: WebGL2RenderingContext, type: number, source: string): WebGLShader {\r\n    const shader = gl.createShader(type) as WebGLShader;\r\n    gl.shaderSource(shader, source);\r\n    gl.compileShader(shader);\r\n\r\n    if (!gl.getShaderParameter(shader, gl.COMPILE_STATUS))\r\n        throw gl.getShaderInfoLog(shader);\r\n\r\n    return shader;\r\n}\r\n\r\nfunction getShaders(gl: WebGL2RenderingContext) {\r\n    /* compile a buttload of shaders */\r\n    const baseVertexShader = compileShader(gl, gl.VERTEX_SHADER, `\r\n        precision highp float;\r\n        attribute vec2 aPosition;\r\n        varying vec2 vUv;\r\n        varying vec2 vL;\r\n        varying vec2 vR;\r\n        varying vec2 vT;\r\n        varying vec2 vB;\r\n        uniform vec2 texelSize;\r\n        void main () {\r\n            vUv = aPosition * 0.5 + 0.5;\r\n            vL = vUv - vec2(texelSize.x, 0.0);\r\n            vR = vUv + vec2(texelSize.x, 0.0);\r\n            vT = vUv + vec2(0.0, texelSize.y);\r\n            vB = vUv - vec2(0.0, texelSize.y);\r\n            gl_Position = vec4(aPosition, 0.0, 1.0);\r\n        }\r\n    `);\r\n\r\n    const clearShader = compileShader(gl, gl.FRAGMENT_SHADER, `\r\n        precision mediump float;\r\n        precision mediump sampler2D;\r\n        varying highp vec2 vUv;\r\n        uniform sampler2D uTexture;\r\n        uniform float value;\r\n        void main () {\r\n            gl_FragColor = value * texture2D(uTexture, vUv);\r\n        }\r\n    `);\r\n\r\n    const colorShader = compileShader(gl, gl.FRAGMENT_SHADER, `\r\n        precision mediump float;\r\n        uniform vec4 color;\r\n        void main () {\r\n            gl_FragColor = color;\r\n        }\r\n    `);\r\n\r\n    const backgroundShader = compileShader(gl, gl.FRAGMENT_SHADER, `\r\n        precision highp float;\r\n        precision highp sampler2D;\r\n        varying vec2 vUv;\r\n        uniform sampler2D uTexture;\r\n        uniform float aspectRatio;\r\n        #define SCALE 25.0\r\n        void main () {\r\n            vec2 uv = floor(vUv * SCALE * vec2(aspectRatio, 1.0));\r\n            float v = mod(uv.x + uv.y, 2.0);\r\n            v = v * 0.1 + 0.8;\r\n            gl_FragColor = vec4(vec3(v), 1.0);\r\n        }\r\n    `);\r\n\r\n    const displayShader = compileShader(gl, gl.FRAGMENT_SHADER, `\r\n        precision highp float;\r\n        precision highp sampler2D;\r\n        varying vec2 vUv;\r\n        uniform sampler2D uTexture;\r\n        void main () {\r\n            vec3 C = texture2D(uTexture, vUv).rgb;\r\n            float a = max(C.r, max(C.g, C.b));\r\n            gl_FragColor = vec4(C, a);\r\n        }\r\n    `);\r\n\r\n    const displayShadingShader = compileShader(gl, gl.FRAGMENT_SHADER, `\r\n        precision highp float;\r\n        precision highp sampler2D;\r\n        varying vec2 vUv;\r\n        varying vec2 vL;\r\n        varying vec2 vR;\r\n        varying vec2 vT;\r\n        varying vec2 vB;\r\n        uniform sampler2D uTexture;\r\n        uniform vec2 texelSize;\r\n        void main () {\r\n            vec3 L = texture2D(uTexture, vL).rgb;\r\n            vec3 R = texture2D(uTexture, vR).rgb;\r\n            vec3 T = texture2D(uTexture, vT).rgb;\r\n            vec3 B = texture2D(uTexture, vB).rgb;\r\n            vec3 C = texture2D(uTexture, vUv).rgb;\r\n            float dx = length(R) - length(L);\r\n            float dy = length(T) - length(B);\r\n            vec3 n = normalize(vec3(dx, dy, length(texelSize)));\r\n            vec3 l = vec3(0.0, 0.0, 1.0);\r\n            float diffuse = clamp(dot(n, l) + 0.7, 0.7, 1.0);\r\n            C.rgb *= diffuse;\r\n            float a = max(C.r, max(C.g, C.b));\r\n            gl_FragColor = vec4(C, a);\r\n        }\r\n    `);\r\n\r\n    const splatShader = compileShader(gl, gl.FRAGMENT_SHADER, `\r\n        precision highp float;\r\n        precision highp sampler2D;\r\n        varying vec2 vUv;\r\n        uniform sampler2D uTarget;\r\n        uniform float aspectRatio;\r\n        uniform vec3 color;\r\n        uniform vec2 point;\r\n        uniform float radius;\r\n        void main () {\r\n            vec2 p = vUv - point.xy;\r\n            p.x *= aspectRatio;\r\n            vec3 splat = exp(-dot(p, p) / radius) * color;\r\n            vec3 base = texture2D(uTarget, vUv).xyz;\r\n            gl_FragColor = vec4(base + splat, 1.0);\r\n        }\r\n    `);\r\n\r\n    const advectionManualFilteringShader = compileShader(gl, gl.FRAGMENT_SHADER, `\r\n        precision highp float;\r\n        precision highp sampler2D;\r\n        varying vec2 vUv;\r\n        uniform sampler2D uVelocity;\r\n        uniform sampler2D uSource;\r\n        uniform vec2 texelSize;\r\n        uniform vec2 dyeTexelSize;\r\n        uniform float dt;\r\n        uniform float dissipation;\r\n        vec4 bilerp (sampler2D sam, vec2 uv, vec2 tsize) {\r\n            vec2 st = uv / tsize - 0.5;\r\n            vec2 iuv = floor(st);\r\n            vec2 fuv = fract(st);\r\n            vec4 a = texture2D(sam, (iuv + vec2(0.5, 0.5)) * tsize);\r\n            vec4 b = texture2D(sam, (iuv + vec2(1.5, 0.5)) * tsize);\r\n            vec4 c = texture2D(sam, (iuv + vec2(0.5, 1.5)) * tsize);\r\n            vec4 d = texture2D(sam, (iuv + vec2(1.5, 1.5)) * tsize);\r\n            return mix(mix(a, b, fuv.x), mix(c, d, fuv.x), fuv.y);\r\n        }\r\n        void main () {\r\n            vec2 coord = vUv - dt * bilerp(uVelocity, vUv, texelSize).xy * texelSize;\r\n            gl_FragColor = dissipation * bilerp(uSource, coord, dyeTexelSize);\r\n            gl_FragColor.a = 1.0;\r\n        }\r\n    `);\r\n\r\n    const advectionShader = compileShader(gl, gl.FRAGMENT_SHADER, `\r\n        precision highp float;\r\n        precision highp sampler2D;\r\n        varying vec2 vUv;\r\n        uniform sampler2D uVelocity;\r\n        uniform sampler2D uSource;\r\n        uniform vec2 texelSize;\r\n        uniform float dt;\r\n        uniform float dissipation;\r\n        void main () {\r\n            vec2 coord = vUv - dt * texture2D(uVelocity, vUv).xy * texelSize;\r\n            gl_FragColor = dissipation * texture2D(uSource, coord);\r\n            gl_FragColor.a = 1.0;\r\n        }\r\n    `);\r\n\r\n    const divergenceShader = compileShader(gl, gl.FRAGMENT_SHADER, `\r\n        precision mediump float;\r\n        precision mediump sampler2D;\r\n        varying highp vec2 vUv;\r\n        varying highp vec2 vL;\r\n        varying highp vec2 vR;\r\n        varying highp vec2 vT;\r\n        varying highp vec2 vB;\r\n        uniform sampler2D uVelocity;\r\n        void main () {\r\n            float L = texture2D(uVelocity, vL).x;\r\n            float R = texture2D(uVelocity, vR).x;\r\n            float T = texture2D(uVelocity, vT).y;\r\n            float B = texture2D(uVelocity, vB).y;\r\n            vec2 C = texture2D(uVelocity, vUv).xy;\r\n            if (vL.x < 0.0) { L = -C.x; }\r\n            if (vR.x > 1.0) { R = -C.x; }\r\n            if (vT.y > 1.0) { T = -C.y; }\r\n            if (vB.y < 0.0) { B = -C.y; }\r\n            float div = 0.5 * (R - L + T - B);\r\n            gl_FragColor = vec4(div, 0.0, 0.0, 1.0);\r\n        }\r\n    `);\r\n\r\n    const curlShader = compileShader(gl, gl.FRAGMENT_SHADER, `\r\n        precision mediump float;\r\n        precision mediump sampler2D;\r\n        varying highp vec2 vUv;\r\n        varying highp vec2 vL;\r\n        varying highp vec2 vR;\r\n        varying highp vec2 vT;\r\n        varying highp vec2 vB;\r\n        uniform sampler2D uVelocity;\r\n        void main () {\r\n            float L = texture2D(uVelocity, vL).y;\r\n            float R = texture2D(uVelocity, vR).y;\r\n            float T = texture2D(uVelocity, vT).x;\r\n            float B = texture2D(uVelocity, vB).x;\r\n            float vorticity = R - L - T + B;\r\n            gl_FragColor = vec4(0.5 * vorticity, 0.0, 0.0, 1.0);\r\n        }\r\n    `);\r\n\r\n    const vorticityShader = compileShader(gl, gl.FRAGMENT_SHADER, `\r\n        precision highp float;\r\n        precision highp sampler2D;\r\n        varying vec2 vUv;\r\n        varying vec2 vL;\r\n        varying vec2 vR;\r\n        varying vec2 vT;\r\n        varying vec2 vB;\r\n        uniform sampler2D uVelocity;\r\n        uniform sampler2D uCurl;\r\n        uniform float curl;\r\n        uniform float dt;\r\n        void main () {\r\n            float L = texture2D(uCurl, vL).x;\r\n            float R = texture2D(uCurl, vR).x;\r\n            float T = texture2D(uCurl, vT).x;\r\n            float B = texture2D(uCurl, vB).x;\r\n            float C = texture2D(uCurl, vUv).x;\r\n            vec2 force = 0.5 * vec2(abs(T) - abs(B), abs(R) - abs(L));\r\n            force /= length(force) + 0.0001;\r\n            force *= curl * C;\r\n            force.y *= -1.0;\r\n            vec2 vel = texture2D(uVelocity, vUv).xy;\r\n            gl_FragColor = vec4(vel + force * dt, 0.0, 1.0);\r\n        }\r\n    `);\r\n\r\n    const pressureShader = compileShader(gl, gl.FRAGMENT_SHADER, `\r\n        precision mediump float;\r\n        precision mediump sampler2D;\r\n        varying highp vec2 vUv;\r\n        varying highp vec2 vL;\r\n        varying highp vec2 vR;\r\n        varying highp vec2 vT;\r\n        varying highp vec2 vB;\r\n        uniform sampler2D uPressure;\r\n        uniform sampler2D uDivergence;\r\n        vec2 boundary (vec2 uv) {\r\n            return uv;\r\n            // uncomment if you use wrap or repeat texture mode\r\n            // uv = min(max(uv, 0.0), 1.0);\r\n            // return uv;\r\n        }\r\n        void main () {\r\n            float L = texture2D(uPressure, boundary(vL)).x;\r\n            float R = texture2D(uPressure, boundary(vR)).x;\r\n            float T = texture2D(uPressure, boundary(vT)).x;\r\n            float B = texture2D(uPressure, boundary(vB)).x;\r\n            float C = texture2D(uPressure, vUv).x;\r\n            float divergence = texture2D(uDivergence, vUv).x;\r\n            float pressure = (L + R + B + T - divergence) * 0.25;\r\n            gl_FragColor = vec4(pressure, 0.0, 0.0, 1.0);\r\n        }\r\n    `);\r\n\r\n    const gradientSubtractShader = compileShader(gl, gl.FRAGMENT_SHADER, `\r\n        precision mediump float;\r\n        precision mediump sampler2D;\r\n        varying highp vec2 vUv;\r\n        varying highp vec2 vL;\r\n        varying highp vec2 vR;\r\n        varying highp vec2 vT;\r\n        varying highp vec2 vB;\r\n        uniform sampler2D uPressure;\r\n        uniform sampler2D uVelocity;\r\n        vec2 boundary (vec2 uv) {\r\n            return uv;\r\n            // uv = min(max(uv, 0.0), 1.0);\r\n            // return uv;\r\n        }\r\n        void main () {\r\n            float L = texture2D(uPressure, boundary(vL)).x;\r\n            float R = texture2D(uPressure, boundary(vR)).x;\r\n            float T = texture2D(uPressure, boundary(vT)).x;\r\n            float B = texture2D(uPressure, boundary(vB)).x;\r\n            vec2 velocity = texture2D(uVelocity, vUv).xy;\r\n            velocity.xy -= vec2(R - L, T - B);\r\n            gl_FragColor = vec4(velocity, 0.0, 1.0);\r\n        }\r\n    `);\r\n\r\n    return {\r\n        baseVertexShader,\r\n        clearShader,\r\n        colorShader,\r\n        backgroundShader,\r\n        displayShader,\r\n        displayShadingShader,\r\n        splatShader,\r\n        advectionShader,\r\n        advectionManualFilteringShader,\r\n        divergenceShader,\r\n        curlShader,\r\n        vorticityShader,\r\n        pressureShader,\r\n        gradientSubtractShader\r\n    };\r\n}\r\n\r\nexport default getShaders;","import HSVTypes from \"./HSVTypes\";\r\n\r\n/*eslint no-unused-expressions: \"off\"*/\r\n/*eslint no-sequences: \"off\"*/\r\nexport default class HSVTools {\r\n    static HSVtoRGB (c: HSVTypes.HSVColor): HSVTypes.RGBColor {\r\n        const {h, s, v} = c;\r\n        let i, f, p, q, t;\r\n        i = Math.floor(h * 6);\r\n        f = h * 6 - i;\r\n        p = v * (1 - s);\r\n        q = v * (1 - f * s);\r\n        t = v * (1 - (1 - f) * s);\r\n\r\n        switch (i % 6) {\r\n            case 0: return { r: v, g: t, b: p };\r\n            case 1: return { r: q, g: v, b: p };\r\n            case 2: return { r: p, g: v, b: t };\r\n            case 3: return { r: p, g: q, b: v };\r\n            case 4: return { r: t, g: p, b: v };\r\n            case 5: return { r: v, g: p, b: q };\r\n            default: return { r: 0, g: 0, b: 0 };\r\n        }\r\n    }\r\n\r\n    static generateColor (): HSVTypes.RGBColor {\r\n        let c = HSVTools.HSVtoRGB({ h: Math.random(), s: 1.0, v: 1.0 });\r\n        c.r *= 0.15;\r\n        c.g *= 0.15;\r\n        c.b *= 0.15;\r\n        return c;\r\n    }\r\n}","import getShaders from \"./FluidShaders\";\r\nimport SplatVector from \"./FluidDraw\";\r\nimport HSVTools from \"./HSVTools\";\r\n\r\n/*eslint no-unused-expressions: \"off\"*/\r\n\r\n/**\r\n * @brief Port of stable fluid simulation using WebGL From this project:\r\n * https://github.com/PavelDoGreat/WebGL-Fluid-Simulation\r\n *\r\n * This component modularizes the fluid simulation mechanics from the project\r\n * above. PavelDoGreat created an awesome demonstration using his fluid simulation\r\n * and user input, I wanted to do something similar with an automatic fluid display.\r\n * Changes I have made:\r\n *  * Removed all global objects, restructuring the code to be contained in a class\r\n * (I probably added a few KB in \"this.\" prefixes). Added some strict typing.\r\n *  * Removed bloom shaders and framebuffers, as I didn't need the functionality\r\n *  * Moved all shaders to FluidShaders.ts, to reduce the file size (it was a behemoth).\r\n *  * Removed user input detection and response, replaced with a magnitude and direction\r\n * based interface called SplatVector (see FluidDraw.ts).\r\n *  * Removed canvas autoresizing. Resizing is done manually now by calling initFrameBuffers\r\n * after changing the canvas dimensions.\r\n *  * Added comments where I could.\r\n *\r\n * I was originally planning on publishing this code as an NPM module, but I don't have a good\r\n * unterstanding of the WebGL functionality or the code using it, and as a result would be\r\n * unable to mantain it very well. Instead, this module will live in my website, hopefully\r\n * drawing a few visitors who are brave enough to dig into the source.\r\n */\r\ninterface IGLExtentsions {\r\n    formatRGBA;\r\n    formatRG;\r\n    formatR;\r\n    halfFloatTexType;\r\n    supportLinearFiltering;\r\n}\r\n\r\nfunction isMobile (): boolean {\r\n    return /Mobi|Android/i.test(navigator.userAgent);\r\n}\r\n\r\nclass GLProgram {\r\n    uniforms: any;\r\n    program: WebGLProgram;\r\n\r\n    constructor ( gl: WebGL2RenderingContext, vertexShader: WebGLShader, fragmentShader: WebGLShader) {\r\n        this.program = gl.createProgram() as WebGLProgram;\r\n        this.uniforms = {};\r\n\r\n        gl.attachShader(this.program, vertexShader);\r\n        gl.attachShader(this.program, fragmentShader);\r\n        gl.linkProgram(this.program);\r\n\r\n        if (!gl.getProgramParameter(this.program, gl.LINK_STATUS))\r\n            throw gl.getProgramInfoLog(this.program);\r\n\r\n        const uniformCount = gl.getProgramParameter(this.program, gl.ACTIVE_UNIFORMS);\r\n        for (let i = 0; i < uniformCount; i++) {\r\n            const uniformName = (gl.getActiveUniform(this.program, i) as WebGLActiveInfo).name;\r\n            this.uniforms[uniformName] = gl.getUniformLocation(this.program, uniformName);\r\n        }\r\n    }\r\n\r\n    bind (gl: WebGL2RenderingContext) {\r\n        gl.useProgram(this.program);\r\n    }\r\n}\r\n\r\nclass FluidRender {\r\n    private readonly canvas: HTMLCanvasElement;\r\n    private readonly gl: WebGL2RenderingContext;\r\n    private readonly ext: IGLExtentsions;\r\n    private readonly config;\r\n\r\n    private readonly clearProgram: GLProgram;\r\n    private readonly colorProgram: GLProgram;\r\n    private readonly backgroundProgram: GLProgram;\r\n    private readonly displayProgram: GLProgram;\r\n    private readonly displayShadingProgram: GLProgram;\r\n    private readonly splatProgram: GLProgram;\r\n    private readonly advectionProgram: GLProgram;\r\n    private readonly divergenceProgram: GLProgram;\r\n    private readonly curlProgram: GLProgram;\r\n    private readonly vorticityProgram: GLProgram;\r\n    private readonly pressureProgram: GLProgram;\r\n    private readonly gradientSubtractProgram: GLProgram;\r\n\r\n    private simWidth;\r\n    private simHeight;\r\n    private dyeWidth;\r\n    private dyeHeight;\r\n    private density;\r\n    private velocity;\r\n    private divergence;\r\n    private curl;\r\n    private pressure;\r\n\r\n    private splatVectorStates: Array<SplatVector> = [];\r\n    private paused: boolean = false;\r\n\r\n    private readonly blit: (destination: WebGLFramebuffer | null) => void;\r\n\r\n    private static readonly DEFAULT_CONF = {\r\n        SIM_RESOLUTION: 128,\r\n        DYE_RESOLUTION: 512,\r\n        DENSITY_DISSIPATION: 0.97,\r\n        VELOCITY_DISSIPATION: 0.98,\r\n        PRESSURE_DISSIPATION: 0.8,\r\n        PRESSURE_ITERATIONS: 20,\r\n        CURL: 30,\r\n        SPLAT_RADIUS: 0.5,\r\n        SHADING: true,\r\n        COLORFUL: true,\r\n        BACK_COLOR: { r: 0, g: 0, b: 0 },\r\n        TRANSPARENT: false,\r\n    };\r\n\r\n    static getDefaultConfig(): typeof FluidRender.DEFAULT_CONF {\r\n        return Object.assign({}, FluidRender.DEFAULT_CONF);\r\n    }\r\n\r\n    /**\r\n     * Call the ctor, but first check if WebGL is supported in the first place\r\n     * @param canvas A HTMLCanvasElement to render the fluid to.\r\n     * @param config Configuration elements for the fluid, you can get a defualt config from FluidRender.getDefaultConfig()\r\n     */\r\n    static Factory(canvas: HTMLCanvasElement, config: typeof FluidRender.DEFAULT_CONF): null | FluidRender {\r\n        const out = FluidRender.getWebGLContext(canvas);\r\n        if (!out) return null;\r\n        else return new FluidRender(out.gl, out.ext, canvas, config);\r\n    }\r\n\r\n    /**\r\n     * Compile shaders, init framebuffers, and start rendering the fluid on the next step() call.\r\n     * @param canvas A HTMLCanvasElement to render the fluid to.\r\n     * @param config Configuration elements for the fluid, you can get a defualt config from FluidRender.getDefaultConfig()\r\n     */\r\n    private constructor(gl: WebGL2RenderingContext, ext: IGLExtentsions, canvas: HTMLCanvasElement, config: typeof FluidRender.DEFAULT_CONF) {\r\n        this.canvas = canvas;\r\n        this.gl = gl;\r\n        // set the extensions and config data\r\n        this.ext = ext;\r\n        this.config = config;\r\n        // modify the config for platform specific things\r\n        if (isMobile() || !this.ext.supportLinearFiltering)\r\n            this.config.SHADING = false;\r\n\r\n        // process the shaders\r\n        const {\r\n            baseVertexShader,\r\n            clearShader,\r\n            colorShader,\r\n            backgroundShader,\r\n            displayShader,\r\n            displayShadingShader,\r\n            splatShader,\r\n            advectionShader,\r\n            advectionManualFilteringShader,\r\n            divergenceShader,\r\n            curlShader,\r\n            vorticityShader,\r\n            pressureShader,\r\n            gradientSubtractShader\r\n        } = getShaders(this.gl);\r\n\r\n        this.gl.bindBuffer(this.gl.ARRAY_BUFFER, this.gl.createBuffer());\r\n        this.gl.bufferData(this.gl.ARRAY_BUFFER, new Float32Array([-1, -1, -1, 1, 1, 1, 1, -1]), this.gl.STATIC_DRAW);\r\n        this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER, this.gl.createBuffer());\r\n        this.gl.bufferData(this.gl.ELEMENT_ARRAY_BUFFER, new Uint16Array([0, 1, 2, 0, 2, 3]), this.gl.STATIC_DRAW);\r\n        this.gl.vertexAttribPointer(0, 2, this.gl.FLOAT, false, 0, 0);\r\n        this.gl.enableVertexAttribArray(0);\r\n\r\n        this.blit = (destination: WebGLFramebuffer | null) => {\r\n            this.gl.bindFramebuffer(this.gl.FRAMEBUFFER, destination);\r\n            this.gl.drawElements(this.gl.TRIANGLES, 6, this.gl.UNSIGNED_SHORT, 0);\r\n        };\r\n\r\n        this.clearProgram               = new GLProgram(this.gl, baseVertexShader, clearShader);\r\n        this.colorProgram               = new GLProgram(this.gl, baseVertexShader, colorShader);\r\n        this.backgroundProgram          = new GLProgram(this.gl, baseVertexShader, backgroundShader);\r\n        this.displayProgram             = new GLProgram(this.gl, baseVertexShader, displayShader);\r\n        this.displayShadingProgram      = new GLProgram(this.gl, baseVertexShader, displayShadingShader);\r\n        this.splatProgram               = new GLProgram(this.gl, baseVertexShader, splatShader);\r\n        this.advectionProgram           = new GLProgram(this.gl, baseVertexShader, ext.supportLinearFiltering ? advectionShader : advectionManualFilteringShader);\r\n        this.divergenceProgram          = new GLProgram(this.gl, baseVertexShader, divergenceShader);\r\n        this.curlProgram                = new GLProgram(this.gl, baseVertexShader, curlShader);\r\n        this.vorticityProgram           = new GLProgram(this.gl, baseVertexShader, vorticityShader);\r\n        this.pressureProgram            = new GLProgram(this.gl, baseVertexShader, pressureShader);\r\n        this.gradientSubtractProgram    = new GLProgram(this.gl, baseVertexShader, gradientSubtractShader);\r\n\r\n        // init framebuffers\r\n        this.initFrameBuffers();\r\n    }\r\n\r\n    /** Reset some buffers used by the fluid renderer, call every time the canvase is resized */\r\n    initFrameBuffers() {\r\n        const simRes = this.getResolution(this.config.SIM_RESOLUTION);\r\n        const dyeRes = this.getResolution(this.config.DYE_RESOLUTION);\r\n\r\n        this.simWidth  = simRes.width;\r\n        this.simHeight = simRes.height;\r\n        this.dyeWidth  = dyeRes.width;\r\n        this.dyeHeight = dyeRes.height;\r\n\r\n        const texType = this.ext.halfFloatTexType;\r\n        const rgba    = this.ext.formatRGBA;\r\n        const rg      = this.ext.formatRG;\r\n        const r       = this.ext.formatR;\r\n        const filtering = this.ext.supportLinearFiltering ? this.gl.LINEAR : this.gl.NEAREST;\r\n\r\n        if (this.density == null)\r\n            this.density = this.createDoubleFBO(this.dyeWidth, this.dyeHeight, rgba.internalFormat, rgba.format, texType, filtering);\r\n        else\r\n            this.density = this.resizeDoubleFBO(this.density, this.dyeWidth, this.dyeHeight, rgba.internalFormat, rgba.format, texType, filtering);\r\n\r\n        if (this.velocity == null)\r\n            this.velocity = this.createDoubleFBO(this.simWidth, this.simHeight, rg.internalFormat, rg.format, texType, filtering);\r\n        else\r\n            this.velocity = this.resizeDoubleFBO(this.velocity, this.simWidth, this.simHeight, rg.internalFormat, rg.format, texType, filtering);\r\n\r\n        this.divergence = this.createFBO      (this.simWidth, this.simHeight, r.internalFormat, r.format, texType, this.gl.NEAREST);\r\n        this.curl       = this.createFBO      (this.simWidth, this.simHeight, r.internalFormat, r.format, texType, this.gl.NEAREST);\r\n        this.pressure   = this.createDoubleFBO(this.simWidth, this.simHeight, r.internalFormat, r.format, texType, this.gl.NEAREST);\r\n    }\r\n\r\n    private getResolution (resolution) {\r\n        let aspectRatio = this.gl.drawingBufferWidth / this.gl.drawingBufferHeight;\r\n        if (aspectRatio < 1)\r\n            aspectRatio = 1.0 / aspectRatio;\r\n\r\n        let max = Math.round(resolution * aspectRatio);\r\n        let min = Math.round(resolution);\r\n\r\n        if (this.gl.drawingBufferWidth > this.gl.drawingBufferHeight)\r\n            return { width: max, height: min };\r\n        else\r\n            return { width: min, height: max };\r\n    }\r\n\r\n    private createFBO (w: number, h: number, internalFormat: number, format: number, type: number, param: number) {\r\n        this.gl.activeTexture(this.gl.TEXTURE0);\r\n        let texture = this.gl.createTexture();\r\n        this.gl.bindTexture(this.gl.TEXTURE_2D, texture);\r\n        this.gl.texParameteri(this.gl.TEXTURE_2D, this.gl.TEXTURE_MIN_FILTER, param);\r\n        this.gl.texParameteri(this.gl.TEXTURE_2D, this.gl.TEXTURE_MAG_FILTER, param);\r\n        this.gl.texParameteri(this.gl.TEXTURE_2D, this.gl.TEXTURE_WRAP_S, this.gl.CLAMP_TO_EDGE);\r\n        this.gl.texParameteri(this.gl.TEXTURE_2D, this.gl.TEXTURE_WRAP_T, this.gl.CLAMP_TO_EDGE);\r\n        this.gl.texImage2D(this.gl.TEXTURE_2D, 0, internalFormat, w, h, 0, format, type, null);\r\n\r\n        let fbo = this.gl.createFramebuffer();\r\n        this.gl.bindFramebuffer(this.gl.FRAMEBUFFER, fbo);\r\n        this.gl.framebufferTexture2D(this.gl.FRAMEBUFFER, this.gl.COLOR_ATTACHMENT0, this.gl.TEXTURE_2D, texture, 0);\r\n        this.gl.viewport(0, 0, w, h);\r\n        this.gl.clear(this.gl.COLOR_BUFFER_BIT);\r\n\r\n        return {\r\n            texture: texture as WebGLTexture,\r\n            fbo: fbo as WebGLFramebuffer,\r\n            width: w,\r\n            height: h,\r\n            attach: (id) => {\r\n                this.gl.activeTexture(this.gl.TEXTURE0 + id);\r\n                this.gl.bindTexture(this.gl.TEXTURE_2D, texture);\r\n                return id;\r\n            }\r\n        };\r\n    }\r\n\r\n    private createDoubleFBO (w: number, h: number, internalFormat: number, format: number, type: number, param: number) {\r\n        let fbo1 = this.createFBO(w, h, internalFormat, format, type, param);\r\n        let fbo2 = this.createFBO(w, h, internalFormat, format, type, param);\r\n\r\n        return {\r\n            get read () {\r\n                return fbo1;\r\n            },\r\n            set read (value) {\r\n                fbo1 = value;\r\n            },\r\n            get write () {\r\n                return fbo2;\r\n            },\r\n            set write (value) {\r\n                fbo2 = value;\r\n            },\r\n            swap () {\r\n                let temp = fbo1;\r\n                fbo1 = fbo2;\r\n                fbo2 = temp;\r\n            }\r\n        };\r\n    }\r\n\r\n    private resizeFBO (target, w: number, h: number, internalFormat: number, format: number, type: number, param: number) {\r\n        let newFBO = this.createFBO(w, h, internalFormat, format, type, param);\r\n        this.clearProgram.bind(this.gl);\r\n        this.gl.uniform1i(this.clearProgram.uniforms.uTexture, target.attach(0));\r\n        this.gl.uniform1f(this.clearProgram.uniforms.value, 1);\r\n        this.blit(newFBO.fbo);\r\n        return newFBO;\r\n    }\r\n\r\n    private resizeDoubleFBO (target, w: number, h: number, internalFormat: number, format: number, type: number, param: number) {\r\n        target.read = this.resizeFBO(target.read, w, h, internalFormat, format, type, param);\r\n        target.write = this.createFBO(w, h, internalFormat, format, type, param);\r\n        return target;\r\n    }\r\n\r\n    private step (dt) {\r\n        this.gl.disable(this.gl.BLEND);\r\n        this.gl.viewport(0, 0, this.simWidth, this.simHeight);\r\n\r\n        this.curlProgram.bind(this.gl);\r\n        this.gl.uniform2f(this.curlProgram.uniforms.texelSize, 1.0 / this.simWidth, 1.0 / this.simHeight);\r\n        this.gl.uniform1i(this.curlProgram.uniforms.uVelocity, this.velocity.read.attach(0));\r\n        this.blit(this.curl.fbo);\r\n\r\n        this.vorticityProgram.bind(this.gl);\r\n        this.gl.uniform2f(this.vorticityProgram.uniforms.texelSize, 1.0 / this.simWidth, 1.0 / this.simHeight);\r\n        this.gl.uniform1i(this.vorticityProgram.uniforms.uVelocity, this.velocity.read.attach(0));\r\n        this.gl.uniform1i(this.vorticityProgram.uniforms.uCurl, this.curl.attach(1));\r\n        this.gl.uniform1f(this.vorticityProgram.uniforms.curl, this.config.CURL);\r\n        this.gl.uniform1f(this.vorticityProgram.uniforms.dt, dt);\r\n        this.blit(this.velocity.write.fbo);\r\n        this.velocity.swap();\r\n\r\n        this.divergenceProgram.bind(this.gl);\r\n        this.gl.uniform2f(this.divergenceProgram.uniforms.texelSize, 1.0 / this.simWidth, 1.0 / this.simHeight);\r\n        this.gl.uniform1i(this.divergenceProgram.uniforms.uVelocity, this.velocity.read.attach(0));\r\n        this.blit(this.divergence.fbo);\r\n\r\n        this.clearProgram.bind(this.gl);\r\n        this.gl.uniform1i(this.clearProgram.uniforms.uTexture, this.pressure.read.attach(0));\r\n        this.gl.uniform1f(this.clearProgram.uniforms.value, this.config.PRESSURE_DISSIPATION);\r\n        this.blit(this.pressure.write.fbo);\r\n        this.pressure.swap();\r\n\r\n        this.pressureProgram.bind(this.gl);\r\n        this.gl.uniform2f(this.pressureProgram.uniforms.texelSize, 1.0 / this.simWidth, 1.0 / this.simHeight);\r\n        this.gl.uniform1i(this.pressureProgram.uniforms.uDivergence, this.divergence.attach(0));\r\n        for (let i = 0; i < this.config.PRESSURE_ITERATIONS; i++) {\r\n            this.gl.uniform1i(this.pressureProgram.uniforms.uPressure, this.pressure.read.attach(1));\r\n            this.blit(this.pressure.write.fbo);\r\n            this.pressure.swap();\r\n        }\r\n\r\n        this.gradientSubtractProgram.bind(this.gl);\r\n        this.gl.uniform2f(this.gradientSubtractProgram.uniforms.texelSize, 1.0 / this.simWidth, 1.0 / this.simHeight);\r\n        this.gl.uniform1i(this.gradientSubtractProgram.uniforms.uPressure, this.pressure.read.attach(0));\r\n        this.gl.uniform1i(this.gradientSubtractProgram.uniforms.uVelocity, this.velocity.read.attach(1));\r\n        this.blit(this.velocity.write.fbo);\r\n        this.velocity.swap();\r\n\r\n        this.advectionProgram.bind(this.gl);\r\n        this.gl.uniform2f(this.advectionProgram.uniforms.texelSize, 1.0 / this.simWidth, 1.0 / this.simHeight);\r\n        if (!this.ext.supportLinearFiltering)\r\n            this.gl.uniform2f(this.advectionProgram.uniforms.dyeTexelSize, 1.0 / this.simWidth, 1.0 / this.simHeight);\r\n        let velocityId = this.velocity.read.attach(0);\r\n        this.gl.uniform1i(this.advectionProgram.uniforms.uVelocity, velocityId);\r\n        this.gl.uniform1i(this.advectionProgram.uniforms.uSource, velocityId);\r\n        this.gl.uniform1f(this.advectionProgram.uniforms.dt, dt);\r\n        this.gl.uniform1f(this.advectionProgram.uniforms.dissipation, this.config.VELOCITY_DISSIPATION);\r\n        this.blit(this.velocity.write.fbo);\r\n        this.velocity.swap();\r\n\r\n        this.gl.viewport(0, 0, this.dyeWidth, this.dyeHeight);\r\n\r\n        if (!this.ext.supportLinearFiltering)\r\n            this.gl.uniform2f(this.advectionProgram.uniforms.dyeTexelSize, 1.0 / this.dyeWidth, 1.0 / this.dyeHeight);\r\n        this.gl.uniform1i(this.advectionProgram.uniforms.uVelocity, this.velocity.read.attach(0));\r\n        this.gl.uniform1i(this.advectionProgram.uniforms.uSource, this.density.read.attach(1));\r\n        this.gl.uniform1f(this.advectionProgram.uniforms.dissipation, this.config.DENSITY_DISSIPATION);\r\n        this.blit(this.density.write.fbo);\r\n        this.density.swap();\r\n    }\r\n\r\n    private render (target) {\r\n        if (target == null || !this.config.TRANSPARENT) {\r\n            this.gl.blendFunc(this.gl.ONE, this.gl.ONE_MINUS_SRC_ALPHA);\r\n            this.gl.enable(this.gl.BLEND);\r\n        }\r\n        else {\r\n            this.gl.disable(this.gl.BLEND);\r\n        }\r\n\r\n        let width  = target == null ? this.gl.drawingBufferWidth : this.dyeWidth;\r\n        let height = target == null ? this.gl.drawingBufferHeight : this.dyeHeight;\r\n\r\n        this.gl.viewport(0, 0, width, height);\r\n\r\n        if (!this.config.TRANSPARENT) {\r\n            this.colorProgram.bind(this.gl);\r\n            let bc = this.config.BACK_COLOR;\r\n            this.gl.uniform4f(this.colorProgram.uniforms.color, bc.r / 255, bc.g / 255, bc.b / 255, 1);\r\n            this.blit(target);\r\n        }\r\n\r\n        if (target == null && this.config.TRANSPARENT) {\r\n            this.backgroundProgram.bind(this.gl);\r\n            this.gl.uniform1f(this.backgroundProgram.uniforms.aspectRatio, this.canvas.width / this.canvas.height);\r\n            this.blit(null);\r\n        }\r\n\r\n        if (this.config.SHADING) {\r\n            let program = this.displayShadingProgram;\r\n            program.bind(this.gl);\r\n            this.gl.uniform2f(program.uniforms.texelSize, 1.0 / width, 1.0 / height);\r\n            this.gl.uniform1i(program.uniforms.uTexture, this.density.read.attach(0));\r\n        }\r\n        else {\r\n            const program = this.displayProgram;\r\n            program.bind(this.gl);\r\n            this.gl.uniform1i(program.uniforms.uTexture, this.density.read.attach(0));\r\n        }\r\n\r\n        this.blit(target);\r\n    }\r\n\r\n    private checkResizeCanvas () {\r\n        if (this.canvas.width !== this.canvas.clientWidth || this.canvas.height !== this.canvas.clientHeight) {\r\n            this.canvas.width = this.canvas.clientWidth;\r\n            this.canvas.height = this.canvas.clientHeight;\r\n            this.initFrameBuffers();\r\n        }\r\n    }\r\n\r\n    private static getWebGLContext (canvas: HTMLCanvasElement): { gl: WebGL2RenderingContext, ext: IGLExtentsions } | null {\r\n        const params = { alpha: true, depth: false, stencil: false, antialias: false, preserveDrawingBuffer: false };\r\n\r\n        let gl: WebGL2RenderingContext = canvas.getContext(\"webgl2\", params) as WebGL2RenderingContext;\r\n        const isWebGL2 = !!gl;\r\n        if (!isWebGL2)\r\n            gl = (canvas.getContext(\"webgl\", params) || canvas.getContext(\"experimental-webgl\", params)) as WebGL2RenderingContext;\r\n\r\n        if (gl) {\r\n            let halfFloat;\r\n            let supportLinearFiltering;\r\n            if (isWebGL2) {\r\n                gl.getExtension(\"EXT_color_buffer_float\");\r\n                supportLinearFiltering = gl.getExtension(\"OES_texture_float_linear\");\r\n            } else {\r\n                halfFloat = gl.getExtension(\"OES_texture_half_float\");\r\n                supportLinearFiltering = gl.getExtension(\"OES_texture_half_float_linear\");\r\n            }\r\n\r\n            gl.clearColor(0.0, 0.0, 0.0, 1.0);\r\n\r\n            const halfFloatTexType = isWebGL2 ? gl.HALF_FLOAT : halfFloat.HALF_FLOAT_OES;\r\n            let formatRGBA;\r\n            let formatRG;\r\n            let formatR;\r\n\r\n            if (isWebGL2) {\r\n                formatRGBA = FluidRender.getSupportedFormat(gl, gl.RGBA16F, gl.RGBA, halfFloatTexType);\r\n                formatRG = FluidRender.getSupportedFormat(gl, gl.RG16F, gl.RG, halfFloatTexType);\r\n                formatR = FluidRender.getSupportedFormat(gl, gl.R16F, gl.RED, halfFloatTexType);\r\n            }\r\n            else {\r\n                formatRGBA = FluidRender.getSupportedFormat(gl, gl.RGBA, gl.RGBA, halfFloatTexType);\r\n                formatRG = FluidRender.getSupportedFormat(gl, gl.RGBA, gl.RGBA, halfFloatTexType);\r\n                formatR = FluidRender.getSupportedFormat(gl, gl.RGBA, gl.RGBA, halfFloatTexType);\r\n            }\r\n\r\n            if (formatRGBA == null)\r\n                // ga('send', 'event', isWebGL2 ? 'webgl2' : 'webgl', 'not supported');\r\n                console.log(`${isWebGL2 ? \"WsbGL2\" : \"WebGL\"} not supported`);\r\n            else\r\n                // ga('send', 'event', isWebGL2 ? 'webgl2' : 'webgl', 'supported');\r\n                console.log(`${isWebGL2 ? \"WsbGL2\" : \"WebGL\"} supported`);\r\n\r\n            return {\r\n                gl,\r\n                ext: {\r\n                    formatRGBA,\r\n                    formatRG,\r\n                    formatR,\r\n                    halfFloatTexType,\r\n                    supportLinearFiltering\r\n                }\r\n            };\r\n        }\r\n        return null;\r\n    }\r\n\r\n    private static getSupportedFormat (gl, internalFormat, format, type) {\r\n        if (!FluidRender.supportRenderTextureFormat(gl, internalFormat, format, type)) {\r\n            switch (internalFormat) {\r\n                case gl.R16F:\r\n                    return FluidRender.getSupportedFormat(gl, gl.RG16F, gl.RG, type);\r\n                case gl.RG16F:\r\n                    return FluidRender.getSupportedFormat(gl, gl.RGBA16F, gl.RGBA, type);\r\n                default:\r\n                    return null;\r\n            }\r\n        }\r\n\r\n        return {\r\n            internalFormat,\r\n            format\r\n        };\r\n    }\r\n\r\n    private static supportRenderTextureFormat (gl: WebGL2RenderingContext, internalFormat, format, type): boolean {\r\n        let texture = gl.createTexture();\r\n        gl.bindTexture(gl.TEXTURE_2D, texture);\r\n        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.NEAREST);\r\n        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.NEAREST);\r\n        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);\r\n        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);\r\n        gl.texImage2D(gl.TEXTURE_2D, 0, internalFormat, 4, 4, 0, format, type, null);\r\n\r\n        let fbo = gl.createFramebuffer();\r\n        gl.bindFramebuffer(gl.FRAMEBUFFER, fbo);\r\n        gl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0, gl.TEXTURE_2D, texture, 0);\r\n\r\n        const status = gl.checkFramebufferStatus(gl.FRAMEBUFFER);\r\n        if (status !== gl.FRAMEBUFFER_COMPLETE)\r\n            return false;\r\n        return true;\r\n    }\r\n\r\n    /** create a fluid distortion at a given position with a given speed */\r\n    splat (x: number, y: number, dx: number, dy: number, color: { r: number, g: number, b: number }, radius?: number) {\r\n        this.gl.viewport(0, 0, this.simWidth, this.simHeight);\r\n        this.splatProgram.bind(this.gl);\r\n        this.gl.uniform1i(this.splatProgram.uniforms.uTarget, this.velocity.read.attach(0));\r\n        this.gl.uniform1f(this.splatProgram.uniforms.aspectRatio, this.canvas.width / this.canvas.height);\r\n        this.gl.uniform2f(this.splatProgram.uniforms.point, x / this.canvas.width, 1.0 - y / this.canvas.height);\r\n        this.gl.uniform3f(this.splatProgram.uniforms.color, dx, -dy, 1.0);\r\n        this.gl.uniform1f(this.splatProgram.uniforms.radius, (radius || this.config.SPLAT_RADIUS) / 100.0);\r\n        this.blit(this.velocity.write.fbo);\r\n        this.velocity.swap();\r\n\r\n        this.gl.viewport(0, 0, this.dyeWidth, this.dyeHeight);\r\n        this.gl.uniform1i(this.splatProgram.uniforms.uTarget, this.density.read.attach(0));\r\n        this.gl.uniform3f(this.splatProgram.uniforms.color, color.r, color.g, color.b);\r\n        this.blit(this.density.write.fbo);\r\n        this.density.swap();\r\n    }\r\n\r\n    randomSplats (amount: number) {\r\n        for (let i = 0; i < amount; i++) {\r\n            const color = HSVTools.generateColor();\r\n            color.r *= 10.0;\r\n            color.g *= 10.0;\r\n            color.b *= 10.0;\r\n            const x = this.canvas.width * Math.random();\r\n            const y = this.canvas.height * Math.random();\r\n            const dx = 1000 * (Math.random() - 0.5);\r\n            const dy = 1000 * (Math.random() - 0.5);\r\n            this.splat(x, y, dx, dy, color);\r\n        }\r\n    }\r\n\r\n    /** add a continuos chain of splats described by a splat vector */\r\n    addVector(vector: SplatVector) {\r\n        this.splatVectorStates.push(vector);\r\n    }\r\n\r\n    /**\r\n     * Step the fluid through a certain amount of time. This function\r\n     * will add splats as directed, simulate the fluid, and then render\r\n     * the fluid in that order.\r\n     * @param dt A time step (0.008 works for me).\r\n     */\r\n    update(dt: number) {\r\n        if (!this.paused) {\r\n            // update animations\r\n            this.splatVectorStates = this.splatVectorStates.filter((s) => {\r\n                const next_splat = s.next_splat();\r\n                if (next_splat === null) return false;\r\n                this.splat(next_splat.pos[0], next_splat.pos[1], next_splat.vel[0], next_splat.vel[1], next_splat.color, next_splat.size);\r\n                return true;\r\n            });\r\n            // step the fluid\r\n            this.step(dt);\r\n            // render the fluid\r\n            this.render(null);\r\n        }\r\n    }\r\n\r\n    setPause(pause: boolean) {\r\n        this.paused = pause;\r\n    }\r\n}\r\n\r\nexport default FluidRender;","import HSVTypes from \"./HSVTypes\";\r\n\r\n/** A utility class for describing and then tracking a discrete line of splats (fluid distortions) */\r\n\r\nexport default class SplatVector {\r\n    static readonly DEFAULT_SPEED = 500;\r\n    static readonly DEFUALT_SPAT_DENSITY = 20;\r\n    static readonly DEFUALT_SIZE = 0.5;\r\n\r\n    readonly step_size: [number, number];\r\n    readonly num_steps: number;\r\n    readonly speed: [number, number];\r\n    readonly pos: [number, number];\r\n    readonly color: HSVTypes.RGBColor;\r\n    readonly size: number;\r\n    private cur_step: number;\r\n\r\n    /**\r\n     * Describe a splat vector, and then initialize the needed state varibles for rendering it.\r\n     * @param direction The angle (in degrees) for the vector\r\n     * @param magnitude The length (in canvas pixels) for the vector\r\n     * @param position x,y coordinates for the splat in canvas pixels\r\n     * @param color RGB color [0, 255]\r\n     * @param size The size of the splat (0.5 is a good place to start)\r\n     * @param speed The speed of the splat, I think in pixels/sec\r\n     * @param num_splats The number of splats to create along the vector. If this is not specified\r\n     * it will be calculated by splatting every DEFAULT_SPLAT_DENSITY pixels\r\n     */\r\n    constructor(direction: number, magnitude: number, position: [number, number], color: HSVTypes.RGBColor, size?: number, speed?: number, num_splats?: number) {\r\n        this.pos = position;\r\n        this.color = color;\r\n        this.size = size || SplatVector.DEFUALT_SIZE;\r\n        this.cur_step = 0;\r\n        const cos = Math.cos((Math.PI / 180.0) * direction);\r\n        const sin = Math.sin((Math.PI / 180.0) * direction);\r\n        // calculate xdist and ydist from direction and magnitude\r\n        const dist = [Math.floor(magnitude * cos), Math.floor(magnitude * sin)];\r\n        // calculate speed from direction\r\n        speed = speed || SplatVector.DEFAULT_SPEED;\r\n        this.speed = [Math.floor(speed * cos), Math.floor(speed * sin)];\r\n        // calculate pixel step and number of steps from splat_density\r\n        this.num_steps = num_splats || Math.floor(magnitude / SplatVector.DEFUALT_SPAT_DENSITY) + 1;\r\n        this.step_size = [Math.floor(dist[0] / this.num_steps), Math.floor(dist[1] / this.num_steps)];\r\n    }\r\n\r\n    /** Get information for the next splat along the vector we have described */\r\n    next_splat(): { pos: [number, number], vel: [number, number], color: { r: number, g: number, b: number }, size: number } | null {\r\n        // check if we're done\r\n        if (this.cur_step === this.num_steps) return null;\r\n        // else return the next splat place, calculated from the various deltas\r\n        const ret = {\r\n            pos: [\r\n                this.pos[0] + this.step_size[0] * this.cur_step,\r\n                this.pos[1] + this.step_size[1] * this.cur_step\r\n            ],\r\n            vel: this.speed,\r\n            color: this.color,\r\n            size: this.size,\r\n        };\r\n        this.cur_step++;\r\n        return ret as any;\r\n    }\r\n}\r\n","import * as React from \"react\";\r\nimport { PerfectCenter } from \"./Style\";\r\nimport FluidRender from \"./Fluid/FluidRender\";\r\nimport HSVTools from \"./Fluid/HSVTools\";\r\nimport { useInView } from \"react-intersection-observer\";\r\nimport SplatVector from \"./Fluid/FluidDraw\";\r\nimport useEventListener from \"@use-it/event-listener\";\r\n\r\n/**\r\n * @brief The fluid demonstration present in the landing page of my website.\r\n *\r\n * This component controls the rendering and random fluid distortions of the\r\n * fluid simulation at the front of my website. The main bulk of the code\r\n * simply generates random SplatVectors based on some constants, and the rest\r\n * ensures that the fluid is operating correctly and only when it needs to be.\r\n *\r\n * SplatVectors are randomly generated in a radius around the center of the canvas,\r\n * pointed towards the center of the canvas. The color, angle approaching the center,\r\n * and position approaching the center are all random.\r\n */\r\n\r\n/**\r\n * Contstant defining how long the splat vector should be proportional to the resolution of the canvas.\r\n * This value also defines the radius of the circle splat vectors approach from.\r\n */\r\nconst MAGNITUDE_FACTOR = 0.35;\r\n/** Fixed size of every individual splat */\r\nconst SIZE = 0.5;\r\n/** Number of splats to put down for a single splat vector */\r\nconst SPLATS_PER_VECTOR = 16;\r\n/**\r\n * Watching two splat vectors come in from the same position is kinda boring, so this constant\r\n * ensures that the next splat vector is always ANGLE_TOL degrees away from the last splat.\r\n * This ensures that plenty of splat crossing always takes place. (Degrees).\r\n */\r\nconst ANGLE_TOL = 30;\r\n/**\r\n * This is the maxiumum variation of angle approaching the center that a splat vector can have.\r\n * Too much and the splat shoots offscreen, too little and there's no variation (Degrees).\r\n */\r\nconst APPROACH_ANGLE_TOL = 45;\r\n/**\r\n * The maximum variation on the Hue wheel in HSV that a splat vector can have from it's next splat vector.\r\n * This value ensures that the colors always create visually pleasing combinations, but still have an element\r\n * of randomness. (0-1).\r\n */\r\nconst COLOR_TOL = 0.4;\r\n/** How often to generate a new splat vector, in frames */\r\nconst FRAME_COUNT = 50;\r\n\r\n/**\r\n * @brief A fluid demonstration for my website\r\n * @param canvasres The width and height of the internal rendering canvas in pixels\r\n * @param canvassize The width and height of the displayed canvas in CSS values\r\n */\r\nconst FluidGL: React.FunctionComponent<{ className?: string, canvasres: number, canvassize: string }> = ({ className = \"\", canvasres, canvassize }) => {\r\n    const canvas_ref = React.useRef<HTMLCanvasElement | null>(null);\r\n    const fluid_ref = React.useRef<FluidRender | null>(null);\r\n    const animation_id_ref = React.useRef<number | null>(null);\r\n    const animation_callback_ref = React.useRef<(() => void) | null>(null);\r\n    const frame_count = React.useRef<number>(1);\r\n    const last_angle = React.useRef<number | null>(null);\r\n    const last_hue = React.useRef<number | null>(null);\r\n\r\n    /** Generate the next splat */\r\n    const animation_callback = React.useCallback(() => {\r\n            if (fluid_ref.current && canvas_ref.current) {\r\n                // time step the fluid\r\n                fluid_ref.current.update(0.008);\r\n                // every fifty frames\r\n                if (++frame_count.current === FRAME_COUNT) {\r\n                    // set a bunch of useful constants\r\n                    const MAGNITUDE = Math.round(canvasres * MAGNITUDE_FACTOR);\r\n                    const MID = Math.round(canvasres * 0.5);\r\n                    const APPROACH_RADIUS = MAGNITUDE;\r\n                    // caLculate the next splats!\r\n                    let next_angle: number;\r\n                    // generate a new splat vector, angle, but make sure it's not too close to the last splat vector angle\r\n                    do {\r\n                        next_angle = Math.random() * 360;\r\n                    } while (last_angle.current !== null && Math.abs(next_angle - last_angle.current) < ANGLE_TOL);\r\n                    // generate the next hue color from moving a random amount from the last hue color\r\n                    let next_hue = (last_hue.current || 0) + (Math.random() - 0.5) * COLOR_TOL;\r\n                    if (next_hue > 1) next_hue -= 1;\r\n                    else if (next_hue < 0) next_hue += 1;\r\n                    // reset the last varibles\r\n                    last_angle.current = next_angle;\r\n                    last_hue.current = next_hue;\r\n                    // draw the splat vector!\r\n                    const rad = next_angle * (Math.PI / 180.0);\r\n                    fluid_ref.current.addVector(new SplatVector(\r\n                        (next_angle + 180.0) + (Math.random() - 0.5) * APPROACH_ANGLE_TOL,\r\n                        MAGNITUDE,\r\n                        [Math.cos(rad) * APPROACH_RADIUS + MID, Math.sin(rad) * APPROACH_RADIUS + MID],\r\n                        HSVTools.HSVtoRGB({ h: next_hue, s: 1.0, v: 1.0 }),\r\n                        SIZE,\r\n                        SplatVector.DEFAULT_SPEED,\r\n                        SPLATS_PER_VECTOR));\r\n                    // reset frame counter\r\n                    frame_count.current = 0;\r\n                }\r\n                // next animation frame\r\n                if (animation_callback_ref.current)\r\n                    animation_id_ref.current = requestAnimationFrame(animation_callback_ref.current);\r\n            }\r\n        }, [canvas_ref, fluid_ref, animation_id_ref, animation_callback_ref, frame_count, last_angle, last_hue, canvasres]);\r\n    // ensure the animation callback is updated when needed\r\n    React.useEffect(() => { animation_callback_ref.current = animation_callback; }, [animation_callback_ref, animation_callback]);\r\n    // add a resize handler to re-initialize the canvas when needed\r\n    React.useEffect(() => {\r\n        if (fluid_ref.current && canvas_ref.current) {\r\n            canvas_ref.current.width = canvas_ref.current.clientWidth;\r\n            canvas_ref.current.height = canvas_ref.current.clientHeight;\r\n            fluid_ref.current.initFrameBuffers();\r\n        }\r\n    }, [canvasres]);\r\n    // setup the fluid object and shaders, and bind it to the canvas\r\n    // do this either when the canvas loads or when webgl crashes\r\n    const createFluid = React.useCallback(() => {\r\n        if (canvas_ref.current) {\r\n            // get a config object for the fluid renderer\r\n            const config = FluidRender.getDefaultConfig();\r\n            config.SHADING = true;\r\n            config.DENSITY_DISSIPATION = 0.99;\r\n            config.SIM_RESOLUTION = 512;\r\n            config.DYE_RESOLUTION = 1024;\r\n            // setup the fluid renderer\r\n            fluid_ref.current = FluidRender.Factory(canvas_ref.current, config);\r\n            console.log(\"Reconstuct!\");\r\n            // let react know we gotta clean up the fluid ref\r\n            return () => {\r\n                if (animation_id_ref.current) {\r\n                    cancelAnimationFrame(animation_id_ref.current);\r\n                    animation_id_ref.current = null;\r\n                }\r\n                fluid_ref.current = null;\r\n            };\r\n        }\r\n    }, [canvas_ref, fluid_ref]);\r\n    React.useEffect(createFluid, [canvas_ref, fluid_ref]);\r\n    useEventListener(\"webglcontextrestored\", createFluid, canvas_ref.current || undefined);\r\n    // if the webgl context fails, handle it\r\n    useEventListener(\"webglcontextlost\", (e) => {\r\n        console.log(\"Context loss\");\r\n        debugger;\r\n        e.preventDefault();\r\n        fluid_ref.current = null;\r\n    }, canvas_ref.current || undefined);\r\n\r\n    const [view_ref, inView] = useInView();\r\n    // make sure we only are updating the fluid when we need to\r\n    React.useEffect(() => {\r\n        if (inView && !animation_id_ref.current && animation_callback_ref.current) {\r\n            // start the animation\r\n            animation_id_ref.current = requestAnimationFrame(animation_callback_ref.current);\r\n        }\r\n        else if (!inView && animation_id_ref.current) {\r\n            // cancel the animation callback\r\n            cancelAnimationFrame(animation_id_ref.current);\r\n            animation_id_ref.current = null;\r\n        }\r\n    }, [inView, animation_callback_ref, animation_id_ref]);\r\n\r\n    return (\r\n        <PerfectCenter className={className || undefined}>\r\n            <canvas ref={ c => { canvas_ref.current = c; view_ref(c); } } width={canvasres} height={canvasres}\r\n                style={{ width: canvassize, height: canvassize, backgroundColor: \"black\" }}/>\r\n        </PerfectCenter>\r\n    );\r\n};\r\n\r\nexport default FluidGL;","import * as React from \"react\";\r\nimport { CountUp } from \"countup.js\";\r\nimport { useInView } from \"react-intersection-observer\";\r\n\r\n\r\n/**\r\n * Simple react component to display a counting number when\r\n * the number enters the view of the user.\r\n * @param end The number to count to\r\n */\r\n const CountOnEnter: React.FunctionComponent<{ end: number }> = ({ end }) => {\r\n    const selfRef = React.useRef<HTMLDivElement | null>(null);\r\n    const countupRef = React.useRef<CountUp | null>(null);\r\n    const [view_ref, inView] = useInView({ triggerOnce: true });\r\n\r\n    React.useEffect(() => {\r\n        if (selfRef.current) countupRef.current = new CountUp(selfRef.current, 0, {\r\n                duration: 2,\r\n                // more options\r\n            });\r\n    }, [selfRef, countupRef]);\r\n\r\n    React.useEffect(() => {\r\n        if (countupRef.current && inView) {\r\n            countupRef.current.update(end);\r\n            countupRef.current.start();\r\n            countupRef.current = null;\r\n        }\r\n    }, [inView, countupRef, end]);\r\n\r\n    return (\r\n        <div ref={(d) => { selfRef.current = d; view_ref(d); }}></div>\r\n    );\r\n };\r\n\r\n export default CountOnEnter;","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"g\", {\n  \"data-name\": \"Group\"\n}, React.createElement(\"path\", {\n  \"data-name\": \"Compound Path\",\n  d: \"M96.7,19.8a13,13,0,0,0-13-13H16.3a13,13,0,0,0-13,13V80.2a13,13,0,0,0,13,13H83.7a13,13,0,0,0,13-13Zm-80.4-7H83.7a7,7,0,0,1,7,7V31.17H9.3V19.8A7,7,0,0,1,16.3,12.8ZM83.7,87.2H16.3a7,7,0,0,1-7-7v-43H90.7v43A7,7,0,0,1,83.7,87.2Z\"\n}), React.createElement(\"path\", {\n  \"data-name\": \"Path\",\n  d: \"M18,24.32h7a3,3,0,1,0,0-6H18a3,3,0,0,0,0,6Z\"\n}), React.createElement(\"path\", {\n  \"data-name\": \"Path\",\n  d: \"M37.83,24.32h7a3,3,0,1,0,0-6h-7a3,3,0,0,0,0,6Z\"\n}), React.createElement(\"path\", {\n  \"data-name\": \"Path\",\n  d: \"M37.86,48a3,3,0,0,0-4.24.11L22.9,59.42a3,3,0,0,0,0,4.13L33.61,74.85A3,3,0,1,0,38,70.72l-8.75-9.23L38,52.29A3,3,0,0,0,37.86,48Z\"\n}), React.createElement(\"path\", {\n  \"data-name\": \"Path\",\n  d: \"M66.38,48.15A3,3,0,1,0,62,52.29l8.75,9.2L62,70.72a3,3,0,0,0,4.35,4.13L77.1,63.55a3,3,0,0,0,0-4.13Z\"\n}), React.createElement(\"path\", {\n  \"data-name\": \"Path\",\n  d: \"M55.78,42.72a3,3,0,0,0-3.75,2l-9.8,31.83A3,3,0,1,0,48,78.3l9.8-31.83A3,3,0,0,0,55.78,42.72Z\"\n}));\n\nvar SvgWeb = function SvgWeb(_ref) {\n  var svgRef = _ref.svgRef,\n      props = _objectWithoutProperties(_ref, [\"svgRef\"]);\n\n  return React.createElement(\"svg\", _extends({\n    \"data-name\": \"Layer 1\",\n    viewBox: \"0 0 100 100\",\n    x: \"0px\",\n    y: \"0px\",\n    ref: svgRef\n  }, props), _ref2);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgWeb, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/web.b252b5a2.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"g\", {\n  transform: \"translate(0,-952.36218)\"\n}, React.createElement(\"path\", {\n  d: \"M 23.53125 4.9375 A 3.0003 3.0003 0 0 0 20.59375 8 L 20.59375 13.84375 L 17.1875 13.84375 C 15.476049 13.84375 14 15.29854 14 17 L 14 82.96875 C 14 84.67015 15.476049 86.125 17.1875 86.125 L 20.59375 86.125 L 20.59375 92 A 3.0003 3.0003 0 1 0 26.59375 92 L 26.59375 86.125 L 33.78125 86.125 L 33.78125 92 A 3.0003 3.0003 0 1 0 39.78125 92 L 39.78125 86.125 L 47 86.125 L 47 92 A 3.0003 3.0003 0 1 0 53 92 L 53 86.125 L 60.21875 86.125 L 60.21875 92 A 3.0003 3.0003 0 1 0 66.21875 92 L 66.21875 86.125 L 73.40625 86.125 L 73.40625 92 A 3.0003 3.0003 0 1 0 79.40625 92 L 79.40625 86.125 L 82.8125 86.125 C 84.523951 86.125 86 84.67015 86 82.96875 L 86 17 C 86 15.29854 84.523951 13.84375 82.8125 13.84375 L 79.40625 13.84375 L 79.40625 8 A 3.0003 3.0003 0 0 0 76.375 4.9375 A 3.0003 3.0003 0 0 0 73.40625 8 L 73.40625 13.84375 L 66.21875 13.84375 L 66.21875 8 A 3.0003 3.0003 0 0 0 63.15625 4.9375 A 3.0003 3.0003 0 0 0 60.21875 8 L 60.21875 13.84375 L 53 13.84375 L 53 8 A 3.0003 3.0003 0 0 0 49.96875 4.9375 A 3.0003 3.0003 0 0 0 47 8 L 47 13.84375 L 39.78125 13.84375 L 39.78125 8 A 3.0003 3.0003 0 0 0 36.75 4.9375 A 3.0003 3.0003 0 0 0 33.78125 8 L 33.78125 13.84375 L 26.59375 13.84375 L 26.59375 8 A 3.0003 3.0003 0 0 0 23.53125 4.9375 z M 20 19.84375 L 80 19.84375 L 80 80.125 L 20 80.125 L 20 19.84375 z M 31.65625 29.34375 C 29.989782 29.34375 28.5625 30.78117 28.5625 32.4375 L 28.5625 67.53125 C 28.5625 69.18765 29.989782 70.625 31.65625 70.625 L 68.34375 70.625 C 70.010218 70.625 71.4375 69.18765 71.4375 67.53125 L 71.4375 32.4375 C 71.4375 30.78117 70.010218 29.34375 68.34375 29.34375 L 31.65625 29.34375 z M 34.5625 35.34375 L 65.4375 35.34375 L 65.4375 64.625 L 34.5625 64.625 L 34.5625 35.34375 z \",\n  transform: \"translate(0,952.36218)\"\n}));\n\nvar SvgEmbedded = function SvgEmbedded(_ref) {\n  var svgRef = _ref.svgRef,\n      props = _objectWithoutProperties(_ref, [\"svgRef\"]);\n\n  return React.createElement(\"svg\", _extends({\n    x: \"0px\",\n    y: \"0px\",\n    viewBox: \"0 0 100 100\",\n    ref: svgRef\n  }, props), _ref2);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgEmbedded, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/embedded.2fee49af.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"g\", {\n  transform: \"translate(0,-952.36218)\"\n}, React.createElement(\"path\", {\n  d: \"M 62.1875 13 A 3.0040663 3.0040663 0 1 0 62.5 19 C 77.185964 19 89 30.75732 89 45.3125 A 3.0003 3.0003 0 1 0 95 45.3125 C 95 27.49284 80.406886 13 62.5 13 A 3.0003 3.0003 0 0 0 62.1875 13 z M 62.1875 25.75 A 3.0040663 3.0040663 0 1 0 62.5 31.75 C 70.094123 31.75 76.15625 37.80537 76.15625 45.3125 A 3.0003 3.0003 0 1 0 82.15625 45.3125 C 82.15625 34.53993 73.314093 25.75 62.5 25.75 A 3.0003 3.0003 0 0 0 62.1875 25.75 z M 53.6875 37.5625 C 48.5297 37.5625 43.926954 39.87687 40.71875 43.4375 C 38.454775 42.3801 36.023519 41.625 33.375 41.625 C 25.035267 41.625 18.082682 47.52432 16.375 55.34375 C 9.7523677 56.98245 5 63.42375 5 70.90625 C 5 79.56555 11.348519 87 19.59375 87 L 64.78125 87 C 73.026488 87 79.375 79.56555 79.375 70.90625 C 79.375 64.60005 75.976478 59.2336 70.9375 56.625 C 71.00108 56.0542 71.15625 55.5384 71.15625 54.9375 C 71.15625 45.36382 63.292843 37.5625 53.6875 37.5625 z M 53.6875 43.5625 C 60.076257 43.5625 65.15625 48.6239 65.15625 54.9375 C 65.15625 55.8092 65.029946 56.69295 64.8125 57.59375 A 3.0003 3.0003 0 0 0 66.875 61.1875 C 70.452473 62.2369 73.375 66.03725 73.375 70.90625 C 73.375 76.70165 69.389846 81 64.78125 81 L 19.59375 81 C 14.985167 81 11 76.70165 11 70.90625 C 11 65.30665 14.769491 61.17445 19.15625 60.90625 A 3.0003 3.0003 0 0 0 21.9375 58.125 C 22.391448 52.2422 27.293768 47.625 33.375 47.625 C 35.793872 47.625 38.005317 48.34765 39.84375 49.59375 A 3.0003 3.0003 0 0 0 44.03125 48.75 C 46.074668 45.63181 49.626154 43.5625 53.6875 43.5625 z \",\n  transform: \"translate(0,952.36218)\"\n}));\n\nvar SvgCloud = function SvgCloud(_ref) {\n  var svgRef = _ref.svgRef,\n      props = _objectWithoutProperties(_ref, [\"svgRef\"]);\n\n  return React.createElement(\"svg\", _extends({\n    x: \"0px\",\n    y: \"0px\",\n    viewBox: \"0 0 100 100\",\n    ref: svgRef\n  }, props), _ref2);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgCloud, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/cloud.2f21dbfc.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"defs\", {\n  id: \"defs4864\"\n});\n\nvar SvgProto = function SvgProto(_ref) {\n  var svgRef = _ref.svgRef,\n      props = _objectWithoutProperties(_ref, [\"svgRef\"]);\n\n  return React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 950 728\",\n    id: \"svg4870\",\n    style: {\n      enableBackground: \"new\"\n    },\n    ref: svgRef\n  }, props), _ref2, React.createElement(\"g\", {\n    id: \"layer1\",\n    transform: \"translate(-72.463036,660.02388)\"\n  }, React.createElement(\"path\", {\n    style: {\n      fill: \"#eeeeee\",\n      fillOpacity: 1,\n      strokeWidth: 0.68120956\n    },\n    d: \"M 0,-0.1328125 V 729.86719 H 952 V -0.1328125 Z m 246.85352,60.9550785 17.44336,48.794924 c -17.85867,6.42306 -30.4214,17.92241 -37.68946,34.49804 -7.0604,16.36844 -10.58984,36.77751 -10.58984,61.22657 v 63.08984 c 0,21.54832 -4.67293,40.71522 -14.01758,57.49805 -9.34465,16.57563 -23.36148,29.52386 -42.05078,38.84765 18.6893,9.73819 32.70613,22.99843 42.05078,39.78125 9.34465,16.57564 14.01758,35.43053 14.01758,56.56446 v 63.09179 c 0,24.44906 3.52944,44.85813 10.58984,61.22657 7.26806,16.57563 19.83079,28.07499 37.68946,34.49804 l -17.44336,49.10547 C 206.36004,657.64917 177.49545,639.5197 160.25977,614.65625 143.23174,589.7928 134.71875,559.64526 134.71875,524.21484 v -63.09179 c 0,-20.51235 -4.56809,-36.46558 -13.70508,-47.86133 -8.92933,-11.39575 -22.843276,-17.09375 -41.740232,-17.09375 v -62.46875 c 18.896956,0 32.810902,-5.59465 41.740232,-16.7832 9.13699,-11.39575 13.70508,-27.55764 13.70508,-48.48438 V 205.3418 c 0,-35.43042 8.51299,-65.47461 25.54102,-90.13086 17.23568,-24.863452 46.10027,-42.992927 86.59375,-54.388674 z m 457.88867,0 c 40.28582,11.395747 69.04752,29.525222 86.2832,54.388674 17.23569,24.65625 25.85352,54.70044 25.85352,90.13086 v 63.08984 c 0,20.92674 4.46324,37.08863 13.39257,48.48438 8.92934,11.18855 22.84328,16.7832 41.74024,16.7832 v 62.46875 c -18.89696,0 -32.8109,5.698 -41.74024,17.09375 -8.92933,11.39575 -13.39257,27.34898 -13.39257,47.86133 v 63.09179 c 0,35.43042 -8.61783,65.57796 -25.85352,90.44141 -17.23568,24.86345 -45.99738,42.99292 -86.2832,54.38867 l -17.44336,-49.10547 c 17.44334,-6.42305 29.79834,-17.92241 37.0664,-34.49804 7.26806,-16.36844 10.90235,-36.77751 10.90235,-61.22657 v -63.09179 c 0,-21.54833 4.77582,-40.60992 14.32812,-57.18555 9.55231,-16.57563 24.08945,-29.52582 43.60938,-38.84961 -19.51993,-9.32379 -34.05707,-22.27202 -43.60938,-38.84766 -9.5523,-16.78282 -14.32812,-36.05307 -14.32812,-57.80859 V 205.3418 c 0,-24.44906 -3.63429,-44.85813 -10.90235,-61.22657 -7.26806,-16.57563 -19.62306,-28.07498 -37.0664,-34.49804 z M 288.90625,104.64453 h 48.2793 167.58203 c 51.91471,0 92.82173,13.36359 122.72461,40.0918 30.11053,26.52101 45.16601,61.32913 45.16601,104.42578 0,43.30384 -15.05548,78.11392 -45.16601,104.42773 -29.90288,26.31382 -70.8099,39.47071 -122.72461,39.47071 h -76.62696 v 100.38476 l 48.5918,9.32422 V 557.1582 H 288.90625 v -54.38867 l 48.2793,-9.32422 V 168.66797 l -48.2793,-9.32422 z m 139.23437,69.92774 v 148.55859 h 76.62696 c 25.33438,0 44.43765,-6.83682 57.3125,-20.51172 13.08251,-13.88209 19.625,-31.49286 19.625,-52.83398 0,-21.75552 -6.54249,-39.67829 -19.625,-53.76758 -12.87485,-14.29649 -31.97812,-21.44531 -57.3125,-21.44531 z\",\n    transform: \"translate(72.463036,-660.02388)\",\n    id: \"rect814\"\n  })));\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgProto, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/proto.f4c8a506.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M480 201.667c0-14.933-7.469-28.803-20.271-36.266L256 64 52.271 165.401C40.531 172.864 32 186.734 32 201.667v203.666C32 428.802 51.197 448 74.666 448h362.668C460.803 448 480 428.802 480 405.333V201.667zM256 304L84.631 192 256 106.667 427.369 192 256 304z\"\n});\n\nvar SvgEmail = function SvgEmail(_ref) {\n  var svgRef = _ref.svgRef,\n      props = _objectWithoutProperties(_ref, [\"svgRef\"]);\n\n  return React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 512 512\",\n    ref: svgRef\n  }, props), _ref2);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgEmail, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/email.0da036c2.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M256 32C132.3 32 32 134.9 32 261.7c0 101.5 64.2 187.5 153.2 217.9 1.4.3 2.6.4 3.8.4 8.3 0 11.5-6.1 11.5-11.4 0-5.5-.2-19.9-.3-39.1-8.4 1.9-15.9 2.7-22.6 2.7-43.1 0-52.9-33.5-52.9-33.5-10.2-26.5-24.9-33.6-24.9-33.6-19.5-13.7-.1-14.1 1.4-14.1h.1c22.5 2 34.3 23.8 34.3 23.8 11.2 19.6 26.2 25.1 39.6 25.1 10.5 0 20-3.4 25.6-6 2-14.8 7.8-24.9 14.2-30.7-49.7-5.8-102-25.5-102-113.5 0-25.1 8.7-45.6 23-61.6-2.3-5.8-10-29.2 2.2-60.8 0 0 1.6-.5 5-.5 8.1 0 26.4 3.1 56.6 24.1 17.9-5.1 37-7.6 56.1-7.7 19 .1 38.2 2.6 56.1 7.7 30.2-21 48.5-24.1 56.6-24.1 3.4 0 5 .5 5 .5 12.2 31.6 4.5 55 2.2 60.8 14.3 16.1 23 36.6 23 61.6 0 88.2-52.4 107.6-102.3 113.3 8 7.1 15.2 21.1 15.2 42.5 0 30.7-.3 55.5-.3 63 0 5.4 3.1 11.5 11.4 11.5 1.2 0 2.6-.1 4-.4C415.9 449.2 480 363.1 480 261.7 480 134.9 379.7 32 256 32z\"\n});\n\nvar SvgGithub = function SvgGithub(_ref) {\n  var svgRef = _ref.svgRef,\n      props = _objectWithoutProperties(_ref, [\"svgRef\"]);\n\n  return React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 512 512\",\n    ref: svgRef\n  }, props), _ref2);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgGithub, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/github.8a1ba32d.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M417.2 64H96.8C79.3 64 64 76.6 64 93.9V415c0 17.4 15.3 32.9 32.8 32.9h320.3c17.6 0 30.8-15.6 30.8-32.9V93.9C448 76.6 434.7 64 417.2 64zM183 384h-55V213h55v171zm-25.6-197h-.4c-17.6 0-29-13.1-29-29.5 0-16.7 11.7-29.5 29.7-29.5s29 12.7 29.4 29.5c0 16.4-11.4 29.5-29.7 29.5zM384 384h-55v-93.5c0-22.4-8-37.7-27.9-37.7-15.2 0-24.2 10.3-28.2 20.3-1.5 3.6-1.9 8.5-1.9 13.5V384h-55V213h55v23.8c8-11.4 20.5-27.8 49.6-27.8 36.1 0 63.4 23.8 63.4 75.1V384z\"\n});\n\nvar SvgLinkedin = function SvgLinkedin(_ref) {\n  var svgRef = _ref.svgRef,\n      props = _objectWithoutProperties(_ref, [\"svgRef\"]);\n\n  return React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 512 512\",\n    ref: svgRef\n  }, props), _ref2);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgLinkedin, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/linkedin.8dc04bcd.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M89.534 230.976L12 288.3C2.7 297.602 2.7 312.7 12 322l494.61 485.15a23.754 23.754 0 0 0 16.848 6.976c6.1 0 12.2-2.326 16.85-6.976L1008.968 322c9.3-9.3 9.3-24.396 0-33.698l-76.998-57.326c-9.3-9.3-24.396-9.3-33.698 0L523.46 601.68 123.23 230.976c-9.3-9.3-24.396-9.3-33.696 0z\"\n});\n\nvar SvgDown = function SvgDown(_ref) {\n  var svgRef = _ref.svgRef,\n      props = _objectWithoutProperties(_ref, [\"svgRef\"]);\n\n  return React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 1024 1024\",\n    ref: svgRef\n  }, props), _ref2);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgDown, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/down.f486b0eb.svg\";\nexport { ForwardRef as ReactComponent };","import { ReactComponent as WebLogo } from \"./img/web.svg\";\r\nimport { ReactComponent as EmbedLogo } from \"./img/embedded.svg\";\r\nimport { ReactComponent as CloudLogo } from \"./img/cloud.svg\";\r\nimport { ReactComponent as ProtoMask } from \"./img/proto.svg\";\r\nimport { ReactComponent as EmailLogo } from \"./img/email.svg\";\r\nimport { ReactComponent as GithubLogo } from \"./img/github.svg\";\r\nimport { ReactComponent as LinkedinLogo } from \"./img/linkedin.svg\";\r\nimport { ReactComponent as DownLogo } from \"./img/down.svg\";\r\nimport BackVideoMp4 from \"./video/backvid.mp4\";\r\nimport BackVideoWebm from \"./video/backvid.webm\";\r\nimport BackVideoSmallMp4 from \"./video/backvidlq.mp4\";\r\nimport BackVideoSmallWebm from \"./video/backvidlq.webm\";\r\nimport BackThumb from \"./img/backthumb.jpg\";\r\n\r\n/**\r\n * This file stores some important constants dictating universal constants\r\n * for my personal website. This includes font sizes, side margins, colors,\r\n * logo sizes, etc.\r\n *\r\n * Some constants (row margins in some cases) have been left in Style.tsx\r\n * as CSS constants. If you are adjusting constants in here and not getting\r\n * the results you need, check that the CSS is not defined in it's own\r\n * component rather than this theme.\r\n */\r\n\r\nconst MainTheme = {\r\n    color: {\r\n        dark: \"#222831\",\r\n        medium: \"#393e46\",\r\n        light: \"#EEEEEE\",\r\n        accent: \"#00adb5\",\r\n    },\r\n    font: {\r\n        size: {\r\n            base_mobile: \"7vw\",\r\n            base: \"35px\",\r\n            xlarge: \"4.5em\",\r\n            xlarge_num: Math.round(window.innerHeight * .17),\r\n            large: \"1.5em\",\r\n            medium: \"1em\",\r\n            small: \"0.75em\",\r\n            xsmall: \"0.35em\",\r\n        },\r\n        color: {\r\n            header: \"#222831\",\r\n            wordmark: \"#222831\",\r\n            content: \"#EEEEEE\",\r\n            accent: \"#00adb5\"\r\n        }\r\n    },\r\n    logo: {\r\n        size: {\r\n            xsmall: \"5vh\",\r\n            small: \"10vh\",\r\n            medium: \"12.5vh\",\r\n            large: \"27.5vh\",\r\n        },\r\n        svg: {\r\n            cloud: CloudLogo,\r\n            embedded: EmbedLogo,\r\n            web: WebLogo,\r\n            mask: ProtoMask,\r\n            mail: EmailLogo,\r\n            github: GithubLogo,\r\n            linkedin: LinkedinLogo,\r\n            down: DownLogo,\r\n        }\r\n    },\r\n    screen: {\r\n        content_width: \"1200px\",\r\n        side_pad: \"7vmin\",\r\n        top_bot_pad: \"20px\",\r\n        header_footer: \"13%\",\r\n        grid_collapse_width: \"100vh\"\r\n    },\r\n    video: {\r\n        middle: {\r\n            vid_srcs: [\r\n                {\r\n                    url: BackVideoMp4,\r\n                    mime: \"video/mp4\"\r\n                },\r\n                {\r\n                    url: BackVideoWebm,\r\n                    mime: \"video/webm\"\r\n                }\r\n            ],\r\n            small_vid_srcs: [\r\n                {\r\n                    url: BackVideoSmallMp4,\r\n                    mime: \"video/mp4\"\r\n                },\r\n                {\r\n                    url: BackVideoSmallWebm,\r\n                    mime: \"video/webm\"\r\n                }\r\n            ],\r\n            thumb: BackThumb\r\n        }\r\n    }\r\n};\r\n\r\nexport default MainTheme;","import * as React from \"react\";\r\nimport { useInView } from \"react-intersection-observer\";\r\nimport styled from \"styled-components\";\r\nimport styledTS from \"styled-components-ts\";\r\n\r\n/** some styles to display a video and create a colored overlay */\r\nconst ContainerDiv = styled.div`\r\n    position: relative;\r\n`;\r\n\r\nconst OverlayDiv = styledTS<{ color: string }>(styled.div)`\r\n    background-color: ${ props => props.color };\r\n    width: 100%;\r\n    height: 100%;\r\n    opacity: 0.75;\r\n`;\r\n\r\nconst VideoStyle = styled.video`\r\n    overflow: hidden;\r\n    position: absolute;\r\n    z-index: -1000;\r\n    // centering hack that never gets old\r\n    top: 50%;\r\n    left: 50%;\r\n    transform: translate(-50%, -50%);\r\n    min-width: 100%;\r\n    min-height: 100%;\r\n    width: auto;\r\n    height: auto;\r\n`;\r\n\r\n/** Element to play a video in the background of an element */\r\nconst BackgroundVideo: React.FunctionComponent<{ videoSrcs: Array<{ url: string, mime: string }>, videoPoster: string, className: string, overlayColor?: string }> = React.memo(({videoSrcs, videoPoster, className, overlayColor = \"rgba(0,0,0,0)\"}) => {\r\n    const videoRef = React.useRef<HTMLVideoElement | null>(null);\r\n    const containerRef = React.useRef<HTMLDivElement | null>(null);\r\n    const lastPromise = React.useRef<Promise<any> | null>(null);\r\n    const [view_ref, inView] = useInView();\r\n\r\n    React.useEffect(() => {\r\n        if (videoRef.current) {\r\n            if (inView && videoRef.current) {\r\n                if (!videoRef.current.muted) videoRef.current.muted = true;\r\n                if (lastPromise.current) lastPromise.current.then(() => videoRef.current && videoRef.current.play() && undefined);\r\n                else lastPromise.current = videoRef.current.play();\r\n            }\r\n            else {\r\n                if (lastPromise.current) lastPromise.current.then(() => videoRef.current && videoRef.current.pause() && undefined);\r\n                else videoRef.current.pause();\r\n            }\r\n        }\r\n    }, [videoRef, inView, videoSrcs, lastPromise]);\r\n\r\n    return (\r\n        <ContainerDiv ref={containerRef} className={className}>\r\n            <VideoStyle ref={(v) => { videoRef.current = v; view_ref(v); }} loop muted={1} preload=\"auto\" playsInline poster={videoPoster}>\r\n                { videoSrcs.map((src, ind) => <source key={ind} src={src.url} type={src.mime} />) }\r\n            </VideoStyle>\r\n            <OverlayDiv color={overlayColor}></OverlayDiv>\r\n        </ContainerDiv>\r\n    );\r\n});\r\n\r\nexport default BackgroundVideo;","import * as React from \"react\";\r\nimport AnchorLink from \"react-anchor-link-smooth-scroll\";\r\nimport { ThemeProvider } from \"styled-components\";\r\nimport useEventListener from \"@use-it/event-listener\";\r\nimport * as Style from \"./Style\";\r\nimport FluidGL from \"./FluidGL\";\r\nimport CountOnEnter from \"./CountOnEnter\";\r\nimport main_theme from \"./Theme\";\r\nimport { useAPI, IGithubRet } from \"./PersonalAPI/useAPI\";\r\nimport BackgroundVideo from \"./BackgroundVideo\";\r\n\r\n/**\r\n * My personal website!\r\n * This file will handle top-level structure and styles, allowing each sub-component to fill\r\n * its own container.\r\n */\r\n\r\n // the API result as of 7/3/2019\r\n const BACKUP_COMMIT_COUNT = 919;\r\n const BACKUP_HOURS_COUNT = 4319;\r\n\r\n const MainPage: React.FunctionComponent = () => {\r\n    const [dimension, setDimension] = React.useState<number>(0);\r\n    const [width, setWidth] = React.useState<number>(0);\r\n    const [stats, setStats] = React.useState<IGithubRet | null>();\r\n\r\n    // create a callback for the event listener\r\n    const dim_callback = React.useCallback(() => {\r\n        setWidth(window.innerWidth);\r\n        setDimension(Math.min(window.innerWidth * 0.9, window.innerHeight * 0.9));\r\n    }, [setDimension]);\r\n    // check for window resize to update our canvas\r\n    useEventListener(\"resize\", dim_callback);\r\n    // and run it once on startup jsut to be safe\r\n    React.useEffect(dim_callback, [dim_callback]);\r\n    // query my personal API for my impressive numbers\r\n    useAPI(\"githubcount\", React.useCallback((data) => setStats(data), [setStats]));\r\n    // build the website\r\n    return (\r\n        <ThemeProvider theme={ main_theme }>\r\n            <div style={{ height: \"100%\" }}>\r\n                <Style.GlobalStyle />\r\n                <Style.ContentContainer id=\"landing\" height=\"100%\">\r\n                    <FluidGL className=\"full\" canvasres={ dimension } canvassize=\"90vmin\" />\r\n                    <Style.MaskGrid className=\"full\">\r\n                        <Style.MaskSVG className=\"mask\">\r\n                            <main_theme.logo.svg.mask />\r\n                        </Style.MaskSVG>\r\n                    </Style.MaskGrid>\r\n                    <Style.FlexCol className=\"content\">\r\n                        <Style.HeaderFooterGrid>\r\n                            <Style.TextElement x={1} y={2} type=\"wordmark\" size=\"small\">\r\n                                <b>Prototypical Pro</b>\r\n                            </Style.TextElement>\r\n                            <Style.TextElement as={\"a\"} rel=\"noopener noreferrer\" target=\"_blank\"\r\n                                href=\"https://bit.ly/2JIwz2g\"\r\n                                x={2} y={2} type=\"header\" size=\"small\">Resume</Style.TextElement>\r\n                            <Style.TextElement as={\"a\"} rel=\"noopener noreferrer\" target=\"_blank\"\r\n                                href=\"https://github.com/prototypicalpro\"\r\n                                x={3} y={2} type=\"header\" size=\"small\">Github</Style.TextElement>\r\n                            <Style.TextElement as={ AnchorLink } href=\"#contact\"\r\n                                x={4} y={2} type=\"header\" size=\"small\">Contact</Style.TextElement>\r\n                        </Style.HeaderFooterGrid>\r\n                        <Style.FlexCol className=\"grow\" justify=\"flex-end\">\r\n                            <Style.SVGCSS fixed_size=\"true\" as={ AnchorLink } href=\"#intro\"\r\n                                offset={ () => Math.round(window.innerWidth > window.innerHeight ? window.innerHeight * 0.15 : 0) }\r\n                                size=\"xsmall\">\r\n                                <object><main_theme.logo.svg.down fill={ main_theme.color.dark } /></object>\r\n                            </Style.SVGCSS>\r\n                        </Style.FlexCol>\r\n                    </Style.FlexCol>\r\n                </Style.ContentContainer>\r\n                <Style.ContentContainer id=\"intro\" height=\"70%\" mobile_height=\"152.5vh\" color=\"medium\">\r\n                    <Style.PerfectCenter className=\"content\">\r\n                        <Style.SimpleGrid rows={2} cols={1} row_gap=\"7vmin\">\r\n                            <Style.TextElement type=\"content\" size=\"medium\" align=\"center\">\r\n                                My name is <Style.Mark>Noah Koontz</Style.Mark><br></br> and I build stuff.\r\n                            </Style.TextElement>\r\n                            <Style.BodyGrid col_count={3} col_gap=\"5vmin\" col_max={main_theme.logo.size.large}>\r\n                                <Style.SVGCSS size=\"large\" as=\"object\" title=\"Cloud\">\r\n                                    <main_theme.logo.svg.cloud fill={ main_theme.color.accent } />\r\n                                </Style.SVGCSS>\r\n                                <Style.TextElement type=\"content\" size=\"medium\" align=\"end\">Cloud</Style.TextElement>\r\n                                <Style.SVGCSS size=\"large\" as=\"object\" title=\"Embedded\">\r\n                                    <main_theme.logo.svg.embedded fill={ main_theme.color.accent } />\r\n                                </Style.SVGCSS>\r\n                                <Style.TextElement type=\"content\" size=\"medium\" align=\"end\">Embedded</Style.TextElement>\r\n                                <Style.SVGCSS size=\"large\" as=\"object\" title=\"Web\">\r\n                                    <main_theme.logo.svg.web fill={ main_theme.color.accent } />\r\n                                </Style.SVGCSS>\r\n                                <Style.TextElement type=\"content\" size=\"medium\" align=\"end\">Web</Style.TextElement>\r\n                            </Style.BodyGrid>\r\n                        </Style.SimpleGrid>\r\n                    </Style.PerfectCenter>\r\n                </Style.ContentContainer>\r\n                <Style.ContentContainer id=\"numbers\" height=\"80%\" mobile_height=\"120vh\">\r\n                    <BackgroundVideo className=\"full\"\r\n                        videoSrcs={ width > 720 ? main_theme.video.middle.vid_srcs : main_theme.video.middle.small_vid_srcs }\r\n                        videoPoster={ main_theme.video.middle.thumb } overlayColor={ main_theme.color.dark } />\r\n                    <Style.PerfectCenter className=\"content\">\r\n                        <Style.BodyGrid col_count={3} col_gap=\"0\"\r\n                            col_max={ (main_theme.font.size.xlarge_num * 4).toString() + \"px\" }>\r\n                            <Style.TextElement type=\"content\" align=\"center\" size=\"xlarge\">\r\n                                <CountOnEnter end={stats ? stats.totalCommitsByMe : BACKUP_COMMIT_COUNT} />\r\n                            </Style.TextElement>\r\n                            <Style.TextElement type=\"content\" align=\"center\" size=\"medium\">Git Commits</Style.TextElement>\r\n                            <div></div>\r\n                            <div></div>\r\n                            <Style.TextElement type=\"content\" align=\"center\" size=\"xlarge\">\r\n                                <CountOnEnter end={stats ? stats.totalHoursByMe : BACKUP_HOURS_COUNT} />\r\n                            </Style.TextElement>\r\n                            <Style.TextElement type=\"content\" align=\"center\" size=\"medium\">Hours</Style.TextElement>\r\n                        </Style.BodyGrid>\r\n                    </Style.PerfectCenter>\r\n                </Style.ContentContainer>\r\n                <Style.ContentContainer id=\"text\" height=\"70%\" mobile_height=\"152.5vh\" color=\"medium\">\r\n                    <Style.PerfectCenter className=\"content\">\r\n                        <Style.ResumeText>\r\n                            I am <Style.Mark>maker</Style.Mark> who enjoys the creative\r\n                            application of technology. I am a <Style.Mark>hard worker</Style.Mark> with\r\n                            an ability to turn ideas into\r\n                            reality. <Style.Mark>Resourceful</Style.Mark> and <Style.Mark>motivated</Style.Mark>,\r\n                            I have a track record of rapidly applying new concepts.\r\n                        </Style.ResumeText>\r\n                    </Style.PerfectCenter>\r\n                </Style.ContentContainer>\r\n                <Style.ContentContainer id=\"contact\" height=\"60%\" color=\"dark\">\r\n                    <Style.PerfectCenter className=\"content\" >\r\n                        <Style.SimpleGrid rows={2} cols={3} col_gap=\"20px\" row_gap=\"15px\">\r\n                            <Style.TextElement x={1} y={1} spanx={3} type=\"content\" align=\"center\" size=\"medium\">\r\n                                Get In Touch\r\n                            </Style.TextElement>\r\n                            <Style.SVGCSS size=\"small\" fixed_size\r\n                                as={\"a\"} href=\"mailto:noah@koontzs.com\" rel=\"noopener noreferrer\" >\r\n                                <object><main_theme.logo.svg.mail fill={ main_theme.color.accent } /></object>\r\n                            </Style.SVGCSS>\r\n                            <Style.SVGCSS size=\"small\" fixed_size\r\n                                as={\"a\"} href=\"https://www.linkedin.com/in/prototypicalpro\" rel=\"noopener noreferrer\" target=\"_blank\">\r\n                                <object><main_theme.logo.svg.linkedin fill={ main_theme.color.accent } /></object>\r\n                            </Style.SVGCSS>\r\n                            <Style.SVGCSS size=\"small\" fixed_size\r\n                                as={\"a\"} href=\"https://github.com/prototypicalpro\" rel=\"noopener noreferrer\" target=\"_blank\" >\r\n                                <object><main_theme.logo.svg.github fill={ main_theme.color.accent } /></object>\r\n                            </Style.SVGCSS>\r\n                        </Style.SimpleGrid>\r\n                    </Style.PerfectCenter>\r\n                </Style.ContentContainer>\r\n                <Style.ContentContainer height={ main_theme.screen.header_footer } mobile_height=\"16%\" color=\"medium\">\r\n                    <Style.FlexCol className=\"content\" direction=\"row\" justify=\"flex-start\">\r\n                        <Style.TextElement allow_wrap text_align=\"left\" type=\"content\" size=\"xsmall\">\r\n                            <Style.CreditLink href=\"https://fonts.google.com/specimen/Roboto+Slab\">\r\n                                Roboto Slab font by Christian Robertson\r\n                            </Style.CreditLink> from Google Fonts, licenced under&nbsp;\r\n                            <Style.CreditLink href=\"http://www.apache.org/licenses/LICENSE-2.0\">\r\n                                Apache 2.0\r\n                            </Style.CreditLink>.&nbsp;\r\n                            <Style.CreditLink href=\"https://thenounproject.com/jagaviranane/\">\r\n                                Web logo by Logan\r\n                            </Style.CreditLink>,&nbsp;\r\n                            <Style.CreditLink href=\"https://thenounproject.com/counloucon/\">\r\n                                embedded and cloud logo by counloucon\r\n                            </Style.CreditLink>, from Noun Project licenced under&nbsp;\r\n                            <Style.CreditLink href=\"https://creativecommons.org/licenses/by/3.0/us/legalcode\">\r\n                                Creative Commons CCBY.\r\n                            </Style.CreditLink>&nbsp;\r\n                            <Style.CreditLink href=\"https://github.com/PavelDoGreat/WebGL-Fluid-Simulation\">\r\n                                Fluid simulation by PavelDoGreat\r\n                            </Style.CreditLink>, modified by Noah Koontz, licenced under MIT.\r\n                        </Style.TextElement>\r\n                    </Style.FlexCol>\r\n                </Style.ContentContainer>\r\n            </div>\r\n        </ThemeProvider>\r\n    );\r\n};\r\n\r\nexport default MainPage;","import * as React from \"react\";\r\n\r\n/**\r\n * Simple hook to create an effect that fetches data from my API.\r\n * Source code for my API can be found here: https://github.com/prototypicalpro/LambdaWorkspace/tree/master/PersonalSite\r\n */\r\n\r\n/** interface specifying repository information, to be used below */\r\ninterface IGithubRepoInfo {\r\n    /** the name of the repository */\r\n    name: string;\r\n    /** the # of commits that I've made to this repository */\r\n    commitsByMe: number;\r\n    /** whether or not I own this repository */\r\n    ownedByMe: boolean;\r\n    /** estimated hours I've spend writing code in this repository (integer) */\r\n    estimatedHoursByMe: number;\r\n}\r\n\r\n/** interface specifying the returned object by the githubcount API */\r\nexport interface IGithubRet {\r\n    /** the list of repositories I've contributed to */\r\n    repositories: IGithubRepoInfo[];\r\n    /** total commits just for fun */\r\n    totalCommitsByMe: number;\r\n    /** total hours spent programming for less fun */\r\n    totalHoursByMe: number;\r\n}\r\n\r\n const API_URL = \"https://api.prototypical.pro/\";\r\n\r\n /**\r\n  * Collect data on my git commit history, courtesy of AWS lambda.\r\n  * @param endpoint URI collect data from (e.x. \"/githubcount\")\r\n  * @param callback A callback to call when the data is collected\r\n  */\r\n export const useAPI = (endpoint: string, callback: (data: IGithubRet | null) => void) => {\r\n    React.useEffect(() => {\r\n        fetch(API_URL + endpoint, { mode: \"cors\" })\r\n        .then((res) => {\r\n            if (res.status === 200) return res.json();\r\n            else throw Error(`Bad status code from API: ${res.status}`);\r\n        })\r\n        .then(callback)\r\n        .catch((err) => {\r\n            console.error(`Error during API fetch to \"${endpoint}\":`);\r\n            console.error(err);\r\n            callback(null);\r\n        });\r\n    }, [endpoint, callback]);\r\n };","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport * as serviceWorker from \"./serviceWorker\";\nimport MainPage from \"./MainPage\";\nimport \"babel-polyfill\";\nrequire(\"intersection-observer\");\n\nconst rootElem = document.getElementById(\"root\") as HTMLElement;\nif (rootElem.hasChildNodes()) ReactDOM.hydrate(<MainPage />, rootElem);\nelse ReactDOM.render(<MainPage />, rootElem);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}